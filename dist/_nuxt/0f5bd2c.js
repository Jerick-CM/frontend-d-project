(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1158:function(t,e,r){"use strict";r.r(e);r(20),r(13),r(36),r(75),r(464);var n=r(10),o=(r(14),r(4)),l=r(424),c=(r(425),r(427),r(12)),d=r(0),v=r(434),f=r.n(v),m=r(436);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}r(44);d.default.use(f.a);var _="https://deloitte-backend.nmgdev.com",w={head:function(){return{script:[],link:[]}},components:{"ckeditor-nuxt":function(){return r.e(1).then(r.t.bind(null,1127,7))}},data:function(){return{submitloading:!1,generate:{fallback:!0},validate:function(t){var e=t.params;return/^\d+$/.test(e.id)},url:null,icon:"img/menu/article-black-24dp.svg",icon_hover:"img/menu/article-white-24dp.svg",icon_text:"",icon_text_hover:"",url_preview:"",url_preview_hover:"",form_slug:"",content:"",submitted:!1,categories:[],dbSelect:null,form_title:null,form_name:null,form_publish:null,form_content:null,errors:[],publish:{value:1,name:"Draft"},publishselection:[{value:1,text:"Draft"},{value:2,text:"Publish"}]}},validations:{form_name:{required:m.required},form_title:{required:m.required},form_publish:{required:m.required},form_content:{required:m.required},icon:{required:m.required}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.token=t.sessionToken,t.timezone="Asia/Singapore",t.editorConfig={simpleUpload:{uploadUrl:_+"/api/menu/ckeditor",headers:{Accept:"application/json",Timezone:t.timezone,Authorization:"Bearer "+t.token}}},t.url=_,t.icon_default=_+"/img/menu/article-black-24dp.svg",t.icon_default_hover=_+"/img/menu/article-white-24dp.svg",{headers:{Accept:"application/json"}};case 7:case"end":return e.stop()}}),e)})))()},mixins:[l.a],mounted:function(){},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({profile:"session/GET_PROFILE",sessionToken:"session/GET_TOKEN"})),watch:{},methods:{firetable:function(){},removeicon:function(){return this.icon_default=_+"/public/img/menu/article-black-24dp.svg",this.$refs.file.value=null,this.icon_text="",this.icon="",this.url_preview="",!1},handleFileUpload:function(t){this.icon_default="";var e=this.$refs.file.files[0];this.url_preview=URL.createObjectURL(e);try{this.icon_text=this.$refs.file.files[0].name,this.icon=this.$refs.file.files[0]}catch(t){console.log(t)}},removeicon_hover:function(){return this.icon_default_hover=_+"/public/img/menu/article-black-24dp.svg",this.$refs.file_iconhover.value=null,this.icon_text_hover="",this.icon_hover="",this.url_preview_hover="",!1},handleFileUpload_hover:function(t){this.icon_default_hover="";var e=this.$refs.file_iconhover.files[0];this.url_preview_hover=URL.createObjectURL(e);try{this.icon_text_hover=this.$refs.file_iconhover.files[0].name,this.icon_hover=this.$refs.file_iconhover.files[0],this.$refs.file_iconhover.value=null}catch(t){console.log(t)}},onSubmit:function(){var t=this;if(this.form_name&&this.form_title&&this.form_publish&&this.form_content){this.submitloading=!0;var e=this.profile.id,r=this.profile.name,n=new FormData;this.$toast.success("Please wait");var o=2==this.form_publish?1:0;n.append("slug",this.form_slug),n.append("title",this.form_title),n.append("name",this.form_name),n.append("publish",o),n.append("content",this.form_content),n.append("icon",this.icon),n.append("icon_hover",this.icon_hover),n.append("profile_id",e),n.append("profile_name",r),this.submitted=!0,this.$axios.post("/create-page-item",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.submitloading=!1,e.data.error&&(t.$toast.success(e.data.error.message),t.submitted=!1),e.data.success&&(t.$toast.success("Save is done"),t.submitted=!1,window.location="/a/cms/menu")})).catch((function(e){t.submitloading=!1,console.dir(e),e.message&&t.$toast.error(e.message),t.submitted=!1})).finally((function(){}))}else this.errors.length=0,this.form_name||this.$toast.error("Menu name is required"),this.form_title||this.$toast.error("Title is required"),this.form_publish||this.$toast.error("Please select Publish"),this.form_content||this.$toast.error("Content body is required")}}},y=(r(835),r(837),r(9)),component=Object(y.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"cms-page"}},[r("div",{staticClass:"container no-padding"},[r("v-toolbar",{staticClass:"pt-4",attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[t._v("MENU CREATE")]),t._v(" "),r("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),r("v-spacer"),t._v(" "),r("div",{staticClass:"container--flex container--flex-align-item-center"})],1),t._v(" "),r("div",{staticClass:"container no-padding",staticStyle:{"background-color":"white"}},[r("v-container",{attrs:{fluid:""}},[r("div",[r("nuxt-link",{attrs:{to:{name:"a-cms-menu"}}},[t._v("Go Back")]),t._v(" "),r("form",{staticClass:"review-form",attrs:{name:"createfaq"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("div",[t._v("Create Menu page")]),t._v(" "),r("div",[r("v-text-field",{attrs:{label:"Menu Name"},on:{blur:function(e){return t.$v.form_name.$touch()}},model:{value:t.form_name,callback:function(e){t.form_name=e},expression:"form_name"}}),t._v(" "),t.$v.form_name.$error?[t.$v.form_name.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                  Menu Name is required.\n                ")])]:t._e()],2),t._v(" "),r("div",[r("v-text-field",{attrs:{label:"Title"},on:{blur:function(e){return t.$v.form_title.$touch()}},model:{value:t.form_title,callback:function(e){t.form_title=e},expression:"form_title"}}),t._v(" "),t.$v.form_title.$error?[t.$v.form_title.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                  Title is required.\n                ")])]:t._e()],2),t._v(" "),r("div",[r("v-select",{attrs:{items:t.publishselection,"item-value":"value","item-text":"text",label:"Publish"},on:{blur:function(e){return t.$v.form_publish.$touch()}},model:{value:t.form_publish,callback:function(e){t.form_publish=e},expression:"form_publish"}}),t._v(" "),t.$v.form_publish.$error?[t.$v.form_publish.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                  Select Publish is required.\n                ")])]:t._e()],2),t._v(" "),r("div",[r("v-text-field",{attrs:{label:"Slug"},model:{value:t.form_slug,callback:function(e){t.form_slug=e},expression:"form_slug"}})],1),t._v(" "),r("div",[r("div",[r("label",[r("strong",[t._v("Main Icon:")])]),t._v(" "),r("br"),t._v(" "),r("label",[t._v("Default Icon:")]),t._v(" "),r("img",{staticClass:"image-preview",attrs:{src:t.icon_default}})]),t._v(" "),r("br"),t._v(" "),r("div",[t._v("Icon:")]),t._v(" "),r("div",[t.url_preview?r("img",{staticClass:"image-preview",attrs:{src:t.url_preview}}):t._e()]),t._v(" "),r("br"),t._v(" "),r("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})]),t._v(" "),r("br"),t._v(" "),r("div",[""!=this.icon_text?r("label",{staticClass:"red-font",attrs:{onclick:"return false"},on:{click:function(e){return t.removeicon()}}},[t._v("Remove")]):t._e()]),t._v(" "),r("div",[r("div",[r("label",[r("strong",[t._v("Hover Icon:")])]),t._v(" "),r("br"),t._v(" "),r("label",[t._v("Default Icon:")]),t._v(" "),r("img",{staticClass:"image-preview",attrs:{src:t.icon_default_hover}})]),t._v(" "),r("br"),t._v(" "),r("div",[t._v("Icon:")]),t._v(" "),r("div",[t.url_preview_hover?r("img",{staticClass:"image-preview",attrs:{src:t.url_preview_hover}}):t._e()]),t._v(" "),r("br"),t._v(" "),r("input",{ref:"file_iconhover",attrs:{type:"file",id:"file_icon"},on:{change:function(e){return t.handleFileUpload_hover()}}})]),t._v(" "),r("br"),t._v(" "),r("div",[""!=this.icon_text_hover?r("label",{staticClass:"red-font",attrs:{onclick:"return false"},on:{click:function(e){return t.removeicon_hover()}}},[t._v("Remove")]):t._e()]),t._v(" "),r("div",{staticClass:"form-group"},[r("br"),t._v(" "),r("label",{attrs:{for:""}},[t._v("Content")]),t._v(" "),r("client-only",{attrs:{placeholder:"loading..."}},[r("ckeditor-nuxt",{attrs:{config:t.editorConfig},on:{blur:function(e){return t.$v.form_content.$touch()}},model:{value:t.form_content,callback:function(e){t.form_content=e},expression:"form_content"}})],1)],1),t._v(" "),t.$v.form_content.$error?[t.$v.form_content.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                Content is required.\n              ")])]:t._e(),t._v(" "),r("v-btn",{staticClass:"ml-0",attrs:{color:"success",disable:t.$v.$invalid,disabled:t.submitted,loading:t.submitloading},on:{click:function(e){return t.onSubmit()}}},[r("label",{staticClass:"white-font"},[t._v("Submit")])])],2)],1)])],1),t._v(" "),r("div",{staticClass:"controls m-lg-vertical"})],1)])}),[],!1,null,"566a4736",null);e.default=component.exports},424:function(t,e,r){"use strict";r(14);var n=r(4);e.a={middleware:"authenticated",layout:"admin",asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,n=t.error,e.next=3,r.dispatch("session/fetchUserProfile");case 3:return e.next=5,r.getters["session/IS_ADMIN"];case 5:e.sent||n({statusCode:404,message:"Page not found"});case 7:case"end":return e.stop()}}),e)})))()}}},425:function(t,e,r){"use strict";e.a={methods:{formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM YYYY";return t?this.$moment(t).format(e):""},resetDateSelection:function(){this.dateFrom="",this.dateTo="",this.dateFromFormatted="",this.dateToFormatted=""}},watch:{dateTo:function(t){this.dateToFormatted=this.formatDate(this.dateTo)},dateFrom:function(t){this.dateFromFormatted=this.formatDate(this.dateFrom)}},computed:{hasDateSelected:function(){return this.dateFrom.length>0||this.dateTo.length>0}},data:function(){return{dateFrom:"",dateFromFormatted:"",dateTo:"",dateToFormatted:"",menuFrom:!1,menuTo:!1}}}},427:function(t,e,r){"use strict";r(13);var n=r(426);e.a={methods:{downloadExcel:function(){var t=this;this.isDownloading||(this.isDownloading=!0,this.$axios.get("".concat(this.currentDownloadCSVURL,"&download=1"),{responseType:"blob"}).then((function(t){n(t.data,"reports.xlsx")})).catch((function(e){t.$toast.error(e.response.data.message)})).finally((function(){t.isDownloading=!1})))}},data:function(){return{currentDownloadCSVURL:"",isDownloading:!1}}}},606:function(t,e,r){var content=r(836);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("012a8054",content,!0,{sourceMap:!1})},607:function(t,e,r){var content=r(838);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("3559802c",content,!0,{sourceMap:!1})},835:function(t,e,r){"use strict";r(606)},836:function(t,e,r){(e=r(2)(!1)).push([t.i,'#bubble-container[data-v-566a4736],#snow-container[data-v-566a4736]{height:300px;margin-bottom:10px}.red-font[data-v-566a4736]{color:red}.ml-0[data-v-566a4736]{margin-left:0!important}.white-font[data-v-566a4736]{color:#fff}.errorMessage[data-v-566a4736]{color:red}select.selecticons[data-v-566a4736]{font-family:"FontAwesome","sans-serif"}.image-preview[data-v-566a4736]{background-image:linear-gradient(90deg,hsla(0,0%,75.3%,.75),hsla(0,0%,75.3%,.75)),linear-gradient(90deg,#000 50%,#fff 0),linear-gradient(180deg,#000 50%,#fff 0);background-blend-mode:normal,difference,normal;padding:2px}',""]),t.exports=e},837:function(t,e,r){"use strict";r(607)},838:function(t,e,r){(e=r(2)(!1)).push([t.i,"#user-transactions-page .container[data-v-566a4736]{margin:0 auto;max-width:1366px;width:98vw;padding-top:0;padding-bottom:0}.print-only[data-v-566a4736]{padding:25px 0}.print-only table[data-v-566a4736]{page-break-inside:auto}.print-only tr[data-v-566a4736]{page-break-inside:avoid;page-break-after:auto}.print-only .item-list[data-v-566a4736]{margin:0 auto!important;max-width:1366px!important;width:96vw!important;position:relative;display:block}.print-only .print-header[data-v-566a4736],.print-only .print-total-tokens[data-v-566a4736]{display:block!important}.print-only .v-toolbar[data-v-566a4736]{display:none}.print-only .white--text[data-v-566a4736]{color:#fff!important;caret-color:#fff!important}.print-only .black[data-v-566a4736]{background-color:#000!important;border-color:#000!important}.print-only .item-list[data-v-566a4736],.print-only .order-number[data-v-566a4736]{display:block}.print-only .order-number[data-v-566a4736]{font-weight:700}.print-only .cart-items table[data-v-566a4736]{border-collapse:collapse}.print-only .cart-items tr[data-v-566a4736]{background-color:#fff}.print-only .cart-items td[data-v-566a4736],.print-only .cart-items th[data-v-566a4736]{border:10px solid #e0e0e0;border-width:10px 0}.print-only .computation[data-v-566a4736]{display:none}.print-only .v-dialog--fullscreen>.v-card[data-v-566a4736]{background-color:#e0e0e0;width:100%}.print-only .v-dialog--fullscreen .v-card__text[data-v-566a4736]{padding-top:20px!important}.print-only .layout--admin #navbar[data-v-566a4736],.print-only .layout--admin .application--wrap[data-v-566a4736],.print-only .layout--admin>footer[data-v-566a4736],.print-only .layout--admin>header[data-v-566a4736]{display:none}",""]),t.exports=e}}]);