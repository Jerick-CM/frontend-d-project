(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1066:function(e,t,r){"use strict";var n=r(5),o=r(1067);n({target:"String",proto:!0,forced:r(1068)("link")},{link:function(e){return o(this,"a","href",e)}})},1067:function(e,t,r){var n=r(22),o=/"/g;e.exports=function(e,t,r,l){var d=String(n(e)),c="<"+t;return""!==r&&(c+=" "+r+'="'+String(l).replace(o,"&quot;")+'"'),c+">"+d+"</"+t+">"}},1068:function(e,t,r){var n=r(8);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},1069:function(e,t,r){"use strict";r(683)},1070:function(e,t,r){(t=r(2)(!1)).push([e.i,".ck-editor__editable[data-v-5881ef5c]{min-height:500px}.errorMessage[data-v-5881ef5c]{color:red}.image-preview[data-v-5881ef5c]{background-image:linear-gradient(90deg,hsla(0,0%,75.3%,.75),hsla(0,0%,75.3%,.75)),linear-gradient(90deg,#000 50%,#fff 0),linear-gradient(180deg,#000 50%,#fff 0);background-blend-mode:normal,difference,normal;padding:2px;max-width:1000px}",""]),e.exports=t},1071:function(e,t,r){"use strict";r(684)},1072:function(e,t,r){(t=r(2)(!1)).push([e.i,"#user-transactions-page .container[data-v-5881ef5c]{margin:0 auto;max-width:1366px;width:98vw;padding-top:0;padding-bottom:0}.print-only[data-v-5881ef5c]{padding:25px 0}.print-only table[data-v-5881ef5c]{page-break-inside:auto}.print-only tr[data-v-5881ef5c]{page-break-inside:avoid;page-break-after:auto}.print-only .item-list[data-v-5881ef5c]{margin:0 auto!important;max-width:1366px!important;width:96vw!important;position:relative;display:block}.print-only .print-header[data-v-5881ef5c],.print-only .print-total-tokens[data-v-5881ef5c]{display:block!important}.print-only .v-toolbar[data-v-5881ef5c]{display:none}.print-only .white--text[data-v-5881ef5c]{color:#fff!important;caret-color:#fff!important}.print-only .black[data-v-5881ef5c]{background-color:#000!important;border-color:#000!important}.print-only .item-list[data-v-5881ef5c],.print-only .order-number[data-v-5881ef5c]{display:block}.print-only .order-number[data-v-5881ef5c]{font-weight:700}.print-only .cart-items table[data-v-5881ef5c]{border-collapse:collapse}.print-only .cart-items tr[data-v-5881ef5c]{background-color:#fff}.print-only .cart-items td[data-v-5881ef5c],.print-only .cart-items th[data-v-5881ef5c]{border:10px solid #e0e0e0;border-width:10px 0}.print-only .computation[data-v-5881ef5c]{display:none}.print-only .v-dialog--fullscreen>.v-card[data-v-5881ef5c]{background-color:#e0e0e0;width:100%}.print-only .v-dialog--fullscreen .v-card__text[data-v-5881ef5c]{padding-top:20px!important}.print-only .layout--admin #navbar[data-v-5881ef5c],.print-only .layout--admin .application--wrap[data-v-5881ef5c],.print-only .layout--admin>footer[data-v-5881ef5c],.print-only .layout--admin>header[data-v-5881ef5c]{display:none}",""]),e.exports=t},1165:function(e,t,r){"use strict";r.r(t);r(20),r(13),r(36),r(1066),r(75),r(464);var n=r(10),o=(r(14),r(4)),l=r(424),d=(r(425),r(427),r(12)),c=r(0),m=r(434),v=r.n(m),h=r(436);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}r(44);var w="https://deloitte-backend.nmgdev.com";c.default.use(v.a);var x={head:function(){return{script:[],link:[]}},components:{"ckeditor-nuxt":function(){return r.e(1).then(r.t.bind(null,1127,7))}},validations:{form_content:{required:h.required}},data:function(){return{url:null,token:null,editorConfig:[],submitted:!1,id:null,categories:[],categorieslist:[],dbSelect:null,dbOptions:[],form_title:null,form_content:null,title:null,preheadertext1:null,preheadertext2:null,preheadertext3:null,preheadertext4:null,preheadertext5:null,preheadertext6:null,preheadertext7:null,label1:null,label2:null,label3:null,label4:null,image1:null,image2:null,image3:null,image4:null,image5:null,image6:null,image7:null,image8:null,image9:null,image10:null,errors:[],image1preview:"",image2preview:"",image3preview:"",image4preview:"",image5preview:"",image6preview:"",image7preview:"",image8preview:"",image9preview:"",image10preview:"",image1previewstore:"",image2previewstore:"",image3previewstore:"",image4previewstore:"",image5previewstore:"",image6previewstore:"",image7previewstore:"",image8previewstore:"",image9previewstore:"",image10previewstore:"",form_link:""}},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.url=w,e.token=e.sessionToken,e.timezone="Asia/Singapore",e.editorConfig={simpleUpload:{uploadUrl:w+"/api/edm-header/ckeditor",headers:{Accept:"application/json",Timezone:e.timezone,Authorization:"Bearer "+e.token}}},{headers:{Accept:"application/json"}},t.prev=5,t.next=8,e.$axios.get("/api/search-edmheader",{headers:{Accept:"application/json"},params:{id:1}});case 8:r=t.sent,e.form_content=r.data[0].content,e.title=r.data[0].title,e.preheadertext1=r.data[0].preheadertext1,e.preheadertext2=r.data[0].preheadertext2,e.preheadertext3=r.data[0].preheadertext3,e.preheadertext4=r.data[0].preheadertext4,e.preheadertext5=r.data[0].preheadertext5,e.preheadertext6=r.data[0].preheadertext6,e.preheadertext7=r.data[0].preheadertext7,e.label1=r.data[0].label1,e.label2=r.data[0].label2,e.label3=r.data[0].label3,e.label4=r.data[0].label4,e.image1=r.data[0].image1,e.image2=r.data[0].image2,e.image3=r.data[0].image3,e.image4=r.data[0].image4,e.image5=r.data[0].image5,e.image6=r.data[0].image6,e.image7=r.data[0].image7,e.image8=r.data[0].image8,e.image9=r.data[0].image9,e.image10=r.data[0].image10,e.image1previewstore=r.data[0].image1,e.image2previewstore=r.data[0].image2,e.image3previewstore=r.data[0].image3,e.image4previewstore=r.data[0].image4,e.image5previewstore=r.data[0].image5,e.image6previewstore=r.data[0].image6,e.image7previewstore=r.data[0].image7,e.image8previewstore=r.data[0].image8,e.image9previewstore=r.data[0].image9,e.image10previewstore=r.data[0].image10,e.form_link=r.data[0].link,t.next=47;break;case 45:t.prev=45,t.t0=t.catch(5);case 47:case"end":return t.stop()}}),t,null,[[5,45]])})))()},mixins:[l.a],computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(d.b)({profile:"session/GET_PROFILE",sessionToken:"session/GET_TOKEN"})),methods:{save:function(){console.log(this.editorData)},onSubmit:function(){var e=this,t=this.profile.id,r=this.profile.name,n=new FormData;n.append("content",this.form_content),n.append("title",this.title),n.append("link",this.form_link),n.append("preheadertext1",this.preheadertext1),n.append("preheadertext2",this.preheadertext2),n.append("preheadertext3",this.preheadertext3),n.append("preheadertext4",this.preheadertext4),n.append("preheadertext5",this.preheadertext5),n.append("preheadertext6",this.preheadertext6),n.append("preheadertext7",this.preheadertext7),n.append("label1",this.label1),n.append("label2",this.label2),n.append("label3",this.label3),n.append("label4",this.label4),n.append("image1",this.image1),n.append("image2",this.image2),n.append("image3",this.image3),n.append("image4",this.image4),n.append("image5",this.image5),n.append("image6",this.image6),n.append("image7",this.image7),n.append("image8",this.image8),n.append("image9",this.image9),n.append("image10",this.image10),n.append("id",1),n.append("profile_id",t),n.append("name",r),this.submitted=!0,this.$axios.post("/api/update-edm-header",n).then((function(t){e.submitted=!1,e.$toast.success("Save is done")})).catch((function(t){e.submitted=!1})).finally((function(){}))},handleFileUpload_image1:function(e){try{var t=this.$refs.image1.files[0];console.log(t),console.log(URL.createObjectURL(t)),this.image1preview=URL.createObjectURL(t),this.image1=this.$refs.image1.files[0],this.image1previewstore=""}catch(e){console.log(e)}},handleFileUpload_image2:function(e){try{var t=this.$refs.image2.files[0];console.log(t),this.image2preview=URL.createObjectURL(t),this.image2=this.$refs.image2.files[0],this.image2previewstore=""}catch(e){console.log(e)}},handleFileUpload_image3:function(e){try{var t=this.$refs.image3.files[0];console.log(t),this.image3preview=URL.createObjectURL(t),this.image3=this.$refs.image3.files[0],this.image3previewstore=""}catch(e){console.log(e)}},handleFileUpload_image4:function(e){try{var t=this.$refs.image4.files[0];this.image4preview=URL.createObjectURL(t),this.image4=this.$refs.image4.files[0],this.image4previewstore=""}catch(e){console.log(e)}},handleFileUpload_image5:function(e){try{var t=this.$refs.image5.files[0];this.image5preview=URL.createObjectURL(t),this.image5=this.$refs.image5.files[0],this.image5previewstore=""}catch(e){console.log(e)}},handleFileUpload_image6:function(e){try{var t=this.$refs.image6.files[0];this.image6preview=URL.createObjectURL(t),this.image6=this.$refs.image6.files[0],this.image6previewstore=""}catch(e){console.log(e)}},handleFileUpload_image7:function(e){try{var t=this.$refs.image7.files[0];this.image7preview=URL.createObjectURL(t),this.image7=this.$refs.image7.files[0],this.image7previewstore=""}catch(e){console.log(e)}},handleFileUpload_image8:function(e){try{var t=this.$refs.image8.files[0];this.image8preview=URL.createObjectURL(t),this.image8=this.$refs.image8.files[0],this.image8previewstore=""}catch(e){console.log(e)}},handleFileUpload_image9:function(e){try{var t=this.$refs.image9.files[0];this.image9preview=URL.createObjectURL(t),this.image9=this.$refs.image9.files[0],this.image9previewstore=""}catch(e){console.log(e)}},handleFileUpload_image10:function(e){try{var t=this.$refs.image10.files[0];this.image10preview=URL.createObjectURL(t),this.image10=this.$refs.image10.files[0],this.image10previewstore=""}catch(e){console.log(e)}}}},_=(r(1069),r(1071),r(9)),component=Object(_.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"edm-header"}},[r("div",{staticClass:"container no-padding"},[r("v-toolbar",{staticClass:"pt-4",attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("EDM Header")]),e._v(" "),r("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e._v(" "),r("v-spacer"),e._v(" "),r("div",{staticClass:"container--flex container--flex-align-item-center"})],1),e._v(" "),r("div",{staticClass:"container no-padding",staticStyle:{"background-color":"white"}},[r("v-container",{attrs:{fluid:""}},[r("div",[r("form",{staticClass:"review-form",attrs:{name:"editfaq"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("div",{staticClass:"faq col-md-12"},[r("div",[e._v("Edit Edm Header")])]),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{rows:"1",label:"Email Title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{rows:"1",label:"Label 1"},model:{value:e.label1,callback:function(t){e.label1=t},expression:"label1"}})],1)],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{rows:"1",label:"Label 2"},model:{value:e.label2,callback:function(t){e.label2=t},expression:"label2"}})],1)],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{rows:"1",label:"Label 3"},model:{value:e.label3,callback:function(t){e.label3=t},expression:"label3"}})],1)],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image1previewstore?r("div",[r("v-img",{staticClass:"image-preview",attrs:{"aspect-ratio":16/9,src:this.url+"/"+this.image1previewstore}})],1):r("div",[""!=this.image1preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image1preview}})]):e._e()]),e._v(" "),r("label",[e._v("Top Header")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image1",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image1()}}})])])],1),e._v(" "),r("br"),e._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image2previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image2previewstore}})]):r("div",[""!=this.image2preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image2preview}})]):e._e()]),e._v(" "),r("label",[e._v("Top Header 2")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image2",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image2()}}})])])],1),e._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{rows:"1",label:"image link banner"},model:{value:e.form_link,callback:function(t){e.form_link=t},expression:"form_link"}})],1)],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image3previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image3previewstore}})]):r("div",[""!=this.image3preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image3preview}})]):e._e()]),e._v(" "),r("label",[e._v("Monthly Summary Mail Banner")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image3",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image3()}}})])])],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image5previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image5previewstore}})]):r("div",[""!=this.image5preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image5preview}})]):e._e()]),e._v(" "),r("label",[e._v("Redemption Mail Banner")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image5",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image5()}}})])])],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image6previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image6previewstore}})]):r("div",[""!=this.image6preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image6preview}})]):e._e()]),e._v(" "),r("label",[e._v("Recipient Mail Banner")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image6",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image6()}}})])])],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image7previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image7previewstore}})]):r("div",[""!=this.image7preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image7preview}})]):e._e()]),e._v(" "),r("label",[e._v("Recipient Mail with Token Banner")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image7",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image7()}}})])])],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image8previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image8previewstore}})]):r("div",[""!=this.image8preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image8preview}})]):e._e()]),e._v(" "),r("label",[e._v("Sender Mail Banner")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image8",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image8()}}})])])],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image9previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image9previewstore}})]):r("div",[""!=this.image9preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image9preview}})]):e._e()]),e._v(" "),r("label",[e._v("Sender Mail with Token Banner")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image9",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image9()}}})])])],1),e._v(" "),r("v-layout",{staticClass:"d-none",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[""!=this.image10previewstore?r("div",[r("img",{staticClass:"image-preview",attrs:{src:this.url+"/"+this.image10previewstore}})]):r("div",[""!=this.image10preview?r("div",[e._v("\n                    image :\n\n                    "),r("img",{staticClass:"image-preview",attrs:{src:e.image10preview}})]):e._e()]),e._v(" "),r("label",[e._v("Tier Promotion")]),e._v(" "),r("div",{staticClass:"form-group"},[r("input",{ref:"image10",attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload_image10()}}})])])],1),e._v(" "),r("br"),e._v(" "),r("v-btn",{attrs:{color:"success",disable:e.$v.$invalid,disabled:e.submitted}},[r("input",{attrs:{type:"submit",value:"Save"}})])],1)])])],1),e._v(" "),r("div",{staticClass:"controls m-lg-vertical"})],1)])}),[],!1,null,"5881ef5c",null);t.default=component.exports},424:function(e,t,r){"use strict";r(14);var n=r(4);t.a={middleware:"authenticated",layout:"admin",asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.error,t.next=3,r.dispatch("session/fetchUserProfile");case 3:return t.next=5,r.getters["session/IS_ADMIN"];case 5:t.sent||n({statusCode:404,message:"Page not found"});case 7:case"end":return t.stop()}}),t)})))()}}},425:function(e,t,r){"use strict";t.a={methods:{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM YYYY";return e?this.$moment(e).format(t):""},resetDateSelection:function(){this.dateFrom="",this.dateTo="",this.dateFromFormatted="",this.dateToFormatted=""}},watch:{dateTo:function(e){this.dateToFormatted=this.formatDate(this.dateTo)},dateFrom:function(e){this.dateFromFormatted=this.formatDate(this.dateFrom)}},computed:{hasDateSelected:function(){return this.dateFrom.length>0||this.dateTo.length>0}},data:function(){return{dateFrom:"",dateFromFormatted:"",dateTo:"",dateToFormatted:"",menuFrom:!1,menuTo:!1}}}},427:function(e,t,r){"use strict";r(13);var n=r(426);t.a={methods:{downloadExcel:function(){var e=this;this.isDownloading||(this.isDownloading=!0,this.$axios.get("".concat(this.currentDownloadCSVURL,"&download=1"),{responseType:"blob"}).then((function(e){n(e.data,"reports.xlsx")})).catch((function(t){e.$toast.error(t.response.data.message)})).finally((function(){e.isDownloading=!1})))}},data:function(){return{currentDownloadCSVURL:"",isDownloading:!1}}}},683:function(e,t,r){var content=r(1070);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("3a8b3dbc",content,!0,{sourceMap:!1})},684:function(e,t,r){var content=r(1072);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("7c6f330e",content,!0,{sourceMap:!1})}}]);