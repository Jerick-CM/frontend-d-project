(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1153:function(t,e,o){"use strict";o.r(e);o(20),o(187),o(13);var r=o(10),n=o(31),c=(o(14),o(4)),l=o(424),d=(o(425),o(427),o(12)),f=o(0),m=o(434),v=o.n(m),h=o(436);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}o(44);f.default.use(v.a);var y="https://deloitte-backend.nmgdev.com",w={head:function(){return{script:[],link:[]}},components:{"ckeditor-nuxt":function(){return o.e(1).then(o.t.bind(null,1127,7))}},data:function(){return{submitloading:!1,editor:!0,editorVal:"",contentHolder:"",token:null,editorConfig:[],editorSettings:{modules:{imageDrop:!0,imageResize:{}}},submitted:!1,categories:[],dbSelect:null,dbOptions:[],form_title:null,form_category:null,form_content:null,categorieslist:[],errors:[],content:null}},validations:{form_title:{required:h.required},form_category:{required:h.required},form_content:{required:h.required}},created:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var o,r,data,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("non dynamic"),t.token=t.sessionToken,t.timezone="Asia/Singapore",t.editorConfig={simpleUpload:{uploadUrl:y+"/api/faq/ckeditor",headers:{Accept:"application/json",Timezone:t.timezone,Authorization:"Bearer "+t.token}}},o={headers:{Accept:"application/json"}},e.prev=5,e.next=8,t.$axios.get(y+"/api/get-faq-category",o);case 8:for(r=e.sent,data=[],t.categorieslist=r.data,c=0,l=Object.entries(r.data);c<l.length;c++)d=Object(n.a)(l[c],2),d[0],f=d[1],data.push({id:f.id,name:f.name});console.log(data),t.categories=data,e.next=18;break;case 16:e.prev=16,e.t0=e.catch(5);case 18:case"end":return e.stop()}}),e,null,[[5,16]])})))()},mixins:[l.a],mounted:function(){},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)({profile:"session/GET_PROFILE",sessionToken:"session/GET_TOKEN"})),watch:{},methods:{save:function(){console.log(this.editorData)},onSubmit:function(){var t=this;if(this.submitloading=!0,this.form_title&&this.form_category&&this.form_content){var e=this.categorieslist[this.form_category].name,o=this.profile.id,r=this.profile.name,n=new FormData;this.$toast.success("Please wait"),n.append("value",this.form_title),n.append("category_id",this.form_category),n.append("body",this.form_content),n.append("profile_id",o),n.append("name",r),n.append("category_name",e),this.submitted=!0,this.$axios.post("/create-faq-item",n).then((function(e){t.submitloading=!1,t.$toast.success("Save is done"),t.submitted=!1,window.location="/a/cms/faq"})).catch((function(e){t.submitloading=!1,t.submitted=!1})).finally((function(){}))}else this.submitloading=!1,this.errors.length=0,this.form_title||this.$toast.error("Title is required."),this.form_category||this.$toast.error("Category is required."),this.form_content||this.$toast.error("Content body is required.")}}},x=(o(812),o(814),o(9)),component=Object(x.a)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"cms-page"}},[o("div",{staticClass:"container no-padding"},[o("v-toolbar",{staticClass:"pt-4",attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[t._v("FAQ")]),t._v(" "),o("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),o("v-spacer"),t._v(" "),o("div",{staticClass:"container--flex container--flex-align-item-center"})],1),t._v(" "),o("div",{staticClass:"container no-padding",staticStyle:{"background-color":"white"}},[o("v-container",{attrs:{fluid:""}},[o("div",[o("nuxt-link",{attrs:{to:{name:"a-cms-faq"}}},[t._v("Go Back")]),t._v(" "),o("form",{staticClass:"review-form",attrs:{name:"createfaq"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[o("div",{staticClass:"faq col-md-12"},[o("div",[t._v("Create FAQ")])]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"title"}},[t._v("Title")]),t._v(" "),o("v-text-field",{attrs:{label:"Title"},on:{blur:function(e){return t.$v.form_title.$touch()}},model:{value:t.form_title,callback:function(e){t.form_title=e},expression:"form_title"}})],1),t._v(" "),t.$v.form_title.$error?[t.$v.form_title.required?t._e():o("p",{staticClass:"errorMessage"},[t._v("\n                Title is required.\n              ")])]:t._e(),t._v(" "),o("v-select",{attrs:{items:t.categories,label:"Categories","single-line":"","item-text":"name","item-value":"id"},on:{blur:function(e){return t.$v.form_category.$touch()}},model:{value:t.form_category,callback:function(e){t.form_category=e},expression:"form_category"}}),t._v(" "),t.$v.form_category.$error?[t.$v.form_category.required?t._e():o("p",{staticClass:"errorMessage"},[t._v("\n                Category is required.\n              ")])]:t._e(),t._v(" "),o("div",{staticClass:"form-group"},[o("client-only",{attrs:{placeholder:"loading..."}},[o("ckeditor-nuxt",{attrs:{config:t.editorConfig},on:{blur:function(e){return t.$v.form_content.$touch()}},model:{value:t.form_content,callback:function(e){t.form_content=e},expression:"form_content"}})],1)],1),t._v(" "),t.$v.form_content.$error?[t.$v.form_content.required?t._e():o("p",{staticClass:"errorMessage"},[t._v("\n                Content is required.\n              ")])]:t._e(),t._v(" "),o("div",[t.editor?o("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}):t._e()],1),t._v(" "),o("v-btn",{attrs:{color:"success",disable:t.$v.$invalid,disabled:t.submitted,loading:t.submitloading},on:{click:function(e){return t.onSubmit()}}},[o("label",{staticClass:"white-font"},[t._v("Submit")])])],2)],1)])],1),t._v(" "),o("div",{staticClass:"controls m-lg-vertical"})],1)])}),[],!1,null,"fc664964",null);e.default=component.exports},424:function(t,e,o){"use strict";o(14);var r=o(4);e.a={middleware:"authenticated",layout:"admin",asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.store,r=t.error,e.next=3,o.dispatch("session/fetchUserProfile");case 3:return e.next=5,o.getters["session/IS_ADMIN"];case 5:e.sent||r({statusCode:404,message:"Page not found"});case 7:case"end":return e.stop()}}),e)})))()}}},425:function(t,e,o){"use strict";e.a={methods:{formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM YYYY";return t?this.$moment(t).format(e):""},resetDateSelection:function(){this.dateFrom="",this.dateTo="",this.dateFromFormatted="",this.dateToFormatted=""}},watch:{dateTo:function(t){this.dateToFormatted=this.formatDate(this.dateTo)},dateFrom:function(t){this.dateFromFormatted=this.formatDate(this.dateFrom)}},computed:{hasDateSelected:function(){return this.dateFrom.length>0||this.dateTo.length>0}},data:function(){return{dateFrom:"",dateFromFormatted:"",dateTo:"",dateToFormatted:"",menuFrom:!1,menuTo:!1}}}},427:function(t,e,o){"use strict";o(13);var r=o(426);e.a={methods:{downloadExcel:function(){var t=this;this.isDownloading||(this.isDownloading=!0,this.$axios.get("".concat(this.currentDownloadCSVURL,"&download=1"),{responseType:"blob"}).then((function(t){r(t.data,"reports.xlsx")})).catch((function(e){t.$toast.error(e.response.data.message)})).finally((function(){t.isDownloading=!1})))}},data:function(){return{currentDownloadCSVURL:"",isDownloading:!1}}}},595:function(t,e,o){var content=o(813);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("80c4b1c4",content,!0,{sourceMap:!1})},596:function(t,e,o){var content=o(815);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("74580570",content,!0,{sourceMap:!1})},812:function(t,e,o){"use strict";o(595)},813:function(t,e,o){(e=o(2)(!1)).push([t.i,".ck-editor__editable[data-v-fc664964]{min-height:500px}.errorMessage[data-v-fc664964]{color:red}",""]),t.exports=e},814:function(t,e,o){"use strict";o(596)},815:function(t,e,o){(e=o(2)(!1)).push([t.i,"#user-transactions-page .container[data-v-fc664964]{margin:0 auto;max-width:1366px;width:98vw;padding-top:0;padding-bottom:0}.print-only[data-v-fc664964]{padding:25px 0}.print-only table[data-v-fc664964]{page-break-inside:auto}.print-only tr[data-v-fc664964]{page-break-inside:avoid;page-break-after:auto}.print-only .item-list[data-v-fc664964]{margin:0 auto!important;max-width:1366px!important;width:96vw!important;position:relative;display:block}.print-only .print-header[data-v-fc664964],.print-only .print-total-tokens[data-v-fc664964]{display:block!important}.print-only .v-toolbar[data-v-fc664964]{display:none}.print-only .white--text[data-v-fc664964]{color:#fff!important;caret-color:#fff!important}.print-only .black[data-v-fc664964]{background-color:#000!important;border-color:#000!important}.print-only .item-list[data-v-fc664964],.print-only .order-number[data-v-fc664964]{display:block}.print-only .order-number[data-v-fc664964]{font-weight:700}.print-only .cart-items table[data-v-fc664964]{border-collapse:collapse}.print-only .cart-items tr[data-v-fc664964]{background-color:#fff}.print-only .cart-items td[data-v-fc664964],.print-only .cart-items th[data-v-fc664964]{border:10px solid #e0e0e0;border-width:10px 0}.print-only .computation[data-v-fc664964]{display:none}.print-only .v-dialog--fullscreen>.v-card[data-v-fc664964]{background-color:#e0e0e0;width:100%}.print-only .v-dialog--fullscreen .v-card__text[data-v-fc664964]{padding-top:20px!important}.print-only .layout--admin #navbar[data-v-fc664964],.print-only .layout--admin .application--wrap[data-v-fc664964],.print-only .layout--admin>footer[data-v-fc664964],.print-only .layout--admin>header[data-v-fc664964]{display:none}",""]),t.exports=e}}]);