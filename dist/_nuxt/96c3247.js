(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1154:function(t,e,r){"use strict";r.r(e);r(20),r(187),r(13);var o=r(10),n=r(31),c=(r(14),r(4)),l=r(424),d=(r(425),r(427),r(12)),m=r(0),f=r(434),v=r.n(f),h=r(436);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var y=r(44),w="https://deloitte-backend.nmgdev.com";m.default.use(v.a);var x={head:function(){return{script:[],link:[]}},components:{"ckeditor-nuxt":function(){return r.e(1).then(r.t.bind(null,1127,7))}},validations:{form_title:{required:h.required},form_category:{required:h.required},form_content:{required:h.required}},data:function(){return{submitloading:!1,token:null,editorConfig:[],submitted:!1,id:null,categories:[],categorieslist:[],dbSelect:null,dbOptions:[],form_title:null,form_category:null,form_content:null,errors:[]}},created:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,o,c,data,l,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.token=t.sessionToken,t.timezone="Asia/Singapore",t.id=t.$route.query.edit,t.editorConfig={simpleUpload:{uploadUrl:w+"/api/faq/ckeditor",headers:{Accept:"application/json",Timezone:t.timezone,Authorization:"Bearer "+t.token}}},r={headers:{Accept:"application/json"}},e.prev=5,e.next=8,y.get(w+"/api/faq-search",{headers:{Accept:"application/json"},params:{id:t.$route.query.edit}});case 8:o=e.sent,t.form_title=o.data[0].value,t.form_category=o.data[0].category_id,t.form_content=o.data[0].body,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:return e.prev=16,e.next=19,t.$axios.get(w+"/api/get-faq-category",r);case 19:for(c=e.sent,console.log(c.data),data=[],t.categorieslist=c.data,l=0,d=Object.entries(c.data);l<d.length;l++)m=Object(n.a)(d[l],2),m[0],f=m[1],data.push({id:f.id,name:f.name});t.categories=data,e.next=29;break;case 27:e.prev=27,e.t1=e.catch(16);case 29:case"end":return e.stop()}}),e,null,[[5,14],[16,27]])})))()},mixins:[l.a],mounted:function(){},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)({profile:"session/GET_PROFILE",sessionToken:"session/GET_TOKEN"})),watch:{},methods:{save:function(){console.log(this.editorData)},onSubmit:function(){var t=this;if(this.submitloading=!0,this.form_title&&this.form_category&&this.form_content){var e=this.categorieslist[this.form_category].name,r=this.profile.id,o=this.profile.name,n=new FormData;n.append("value",this.form_title),n.append("category_id",this.form_category),n.append("body",this.form_content),n.append("id",this.id),n.append("profile_id",r),n.append("name",o),n.append("category_name",e),this.submitted=!0,this.$axios.post("/update-faq-item",n).then((function(e){t.submitted=!1,t.$toast.success("Save is done"),t.submitloading=!1})).catch((function(e){t.submitted=!1,t.submitloading=!1})).finally((function(){}))}else this.submitloading=!1,this.errors.length=0,this.form_title||this.$toast.error("Title is required."),this.form_category||this.$toast.error("Category is required."),this.form_content||this.$toast.error("Content body is required.")}}},k=(r(816),r(818),r(9)),component=Object(k.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"cms-page"}},[r("div",{staticClass:"container no-padding"},[r("v-toolbar",{staticClass:"pt-4",attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[t._v("FAQ")]),t._v(" "),r("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),r("v-spacer"),t._v(" "),r("div",{staticClass:"container--flex container--flex-align-item-center"})],1),t._v(" "),r("div",{staticClass:"container no-padding",staticStyle:{"background-color":"white"}},[r("v-container",{attrs:{fluid:""}},[r("div",[r("nuxt-link",{attrs:{to:{name:"a-cms-faq"}}},[t._v("Go Back")]),t._v(" "),r("form",{staticClass:"review-form",attrs:{name:"editfaq"}},[r("div",{staticClass:"faq col-md-12"},[r("div",[t._v("Edit FAQ")])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("Title")]),t._v(" "),r("v-text-field",{attrs:{label:"Title"},on:{blur:function(e){return t.$v.form_title.$touch()}},model:{value:t.form_title,callback:function(e){t.form_title=e},expression:"form_title"}})],1),t._v(" "),t.$v.form_title.$error?[t.$v.form_title.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                Title is required.\n              ")])]:t._e(),t._v(" "),r("v-select",{attrs:{items:t.categories,label:"Categories","single-line":"","item-text":"name","item-value":"id"},on:{blur:function(e){return t.$v.form_category.$touch()}},model:{value:t.form_category,callback:function(e){t.form_category=e},expression:"form_category"}}),t._v(" "),t.$v.form_category.$error?[t.$v.form_category.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                Category is required.\n              ")])]:t._e(),t._v(" "),r("div",{staticClass:"form-group"},[r("client-only",{attrs:{placeholder:"loading..."}},[r("ckeditor-nuxt",{attrs:{config:t.editorConfig},on:{blur:function(e){return t.$v.form_content.$touch()}},model:{value:t.form_content,callback:function(e){t.form_content=e},expression:"form_content"}})],1)],1),t._v(" "),t.$v.form_content.$error?[t.$v.form_content.required?t._e():r("p",{staticClass:"errorMessage"},[t._v("\n                Content is required.\n              ")])]:t._e(),t._v(" "),r("v-btn",{attrs:{color:"success",disable:t.$v.$invalid,disabled:t.submitted,loading:t.submitloading},on:{click:function(e){return t.onSubmit()}}},[r("label",{staticClass:"white-font"},[t._v("Submit")])])],2)],1)])],1),t._v(" "),r("div",{staticClass:"controls m-lg-vertical"})],1)])}),[],!1,null,"8073040e",null);e.default=component.exports},424:function(t,e,r){"use strict";r(14);var o=r(4);e.a={middleware:"authenticated",layout:"admin",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,o=t.error,e.next=3,r.dispatch("session/fetchUserProfile");case 3:return e.next=5,r.getters["session/IS_ADMIN"];case 5:e.sent||o({statusCode:404,message:"Page not found"});case 7:case"end":return e.stop()}}),e)})))()}}},425:function(t,e,r){"use strict";e.a={methods:{formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM YYYY";return t?this.$moment(t).format(e):""},resetDateSelection:function(){this.dateFrom="",this.dateTo="",this.dateFromFormatted="",this.dateToFormatted=""}},watch:{dateTo:function(t){this.dateToFormatted=this.formatDate(this.dateTo)},dateFrom:function(t){this.dateFromFormatted=this.formatDate(this.dateFrom)}},computed:{hasDateSelected:function(){return this.dateFrom.length>0||this.dateTo.length>0}},data:function(){return{dateFrom:"",dateFromFormatted:"",dateTo:"",dateToFormatted:"",menuFrom:!1,menuTo:!1}}}},427:function(t,e,r){"use strict";r(13);var o=r(426);e.a={methods:{downloadExcel:function(){var t=this;this.isDownloading||(this.isDownloading=!0,this.$axios.get("".concat(this.currentDownloadCSVURL,"&download=1"),{responseType:"blob"}).then((function(t){o(t.data,"reports.xlsx")})).catch((function(e){t.$toast.error(e.response.data.message)})).finally((function(){t.isDownloading=!1})))}},data:function(){return{currentDownloadCSVURL:"",isDownloading:!1}}}},597:function(t,e,r){var content=r(817);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("1346ff2b",content,!0,{sourceMap:!1})},598:function(t,e,r){var content=r(819);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(3).default)("05fb1b92",content,!0,{sourceMap:!1})},816:function(t,e,r){"use strict";r(597)},817:function(t,e,r){(e=r(2)(!1)).push([t.i,".ck-editor__editable[data-v-8073040e]{min-height:500px}.errorMessage[data-v-8073040e]{color:red}",""]),t.exports=e},818:function(t,e,r){"use strict";r(598)},819:function(t,e,r){(e=r(2)(!1)).push([t.i,"#user-transactions-page .container[data-v-8073040e]{margin:0 auto;max-width:1366px;width:98vw;padding-top:0;padding-bottom:0}.print-only[data-v-8073040e]{padding:25px 0}.print-only table[data-v-8073040e]{page-break-inside:auto}.print-only tr[data-v-8073040e]{page-break-inside:avoid;page-break-after:auto}.print-only .item-list[data-v-8073040e]{margin:0 auto!important;max-width:1366px!important;width:96vw!important;position:relative;display:block}.print-only .print-header[data-v-8073040e],.print-only .print-total-tokens[data-v-8073040e]{display:block!important}.print-only .v-toolbar[data-v-8073040e]{display:none}.print-only .white--text[data-v-8073040e]{color:#fff!important;caret-color:#fff!important}.print-only .black[data-v-8073040e]{background-color:#000!important;border-color:#000!important}.print-only .item-list[data-v-8073040e],.print-only .order-number[data-v-8073040e]{display:block}.print-only .order-number[data-v-8073040e]{font-weight:700}.print-only .cart-items table[data-v-8073040e]{border-collapse:collapse}.print-only .cart-items tr[data-v-8073040e]{background-color:#fff}.print-only .cart-items td[data-v-8073040e],.print-only .cart-items th[data-v-8073040e]{border:10px solid #e0e0e0;border-width:10px 0}.print-only .computation[data-v-8073040e]{display:none}.print-only .v-dialog--fullscreen>.v-card[data-v-8073040e]{background-color:#e0e0e0;width:100%}.print-only .v-dialog--fullscreen .v-card__text[data-v-8073040e]{padding-top:20px!important}.print-only .layout--admin #navbar[data-v-8073040e],.print-only .layout--admin .application--wrap[data-v-8073040e],.print-only .layout--admin>footer[data-v-8073040e],.print-only .layout--admin>header[data-v-8073040e]{display:none}",""]),t.exports=e}}]);