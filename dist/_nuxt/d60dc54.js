(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1119:function(e,t,n){e.exports=n.p+"img/t-letter-ico.01d5ff5.png"},1120:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NS43NSA0NS43NSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMzNWE3NGU7fS5jbHMtMntmaWxsOiM4MGMzNDI7fS5jbHMtM3tmaWxsOm5vbmU7c3Ryb2tlOiM4MGMzNDI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjAuNzZweDt9LmNscy00e2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPnN0YXItaWNvPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iMjIuODgiIGN5PSIyMi44OCIgcj0iMjIuODgiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMiIgY3g9IjIyLjg4IiBjeT0iMjIuODgiIHI9IjIwLjE5Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIyMi44OCIgY3k9IjIyLjg4IiByPSIyMS43OCIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTI1LDEyLjc1bDEuNiw0LjkxYTEuNzksMS43OSwwLDAsMCwxLjcyLDEuMjVoNS4xNmExLjgyLDEuODIsMCwwLDEsMS4wNywzLjI4bC00LjE4LDNhMS44MSwxLjgxLDAsMCwwLS42NiwybDEuNiw0LjkxYTEuODEsMS44MSwwLDAsMS0yLjc5LDJsLTQuMTgtM2ExLjc3LDEuNzcsMCwwLDAtMi4xMiwwbC00LjE4LDNhMS44MSwxLjgxLDAsMCwxLTIuNzktMmwxLjYtNC45MWExLjgxLDEuODEsMCwwLDAtLjY2LTJsLTQuMTctM2ExLjgxLDEuODEsMCwwLDEsMS4wNi0zLjI4aDUuMTZhMS43OSwxLjc5LDAsMCwwLDEuNzItMS4yNWwxLjYtNC45MUExLjgxLDEuODEsMCwwLDEsMjUsMTIuNzVaIi8+PC9nPjwvZz48L3N2Zz4="},1121:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCAxMiI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiM4MGMzNDI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjAuNzVweDt9LmNscy0ye2ZpbGw6IzgwYzM0Mjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93PC90aXRsZT48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSIxLjMzIiB5MT0iNi40NCIgeDI9IjQ0LjM4IiB5Mj0iNi40NCIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTQ4LjkxLDYuNDRBMjIuODcsMjIuODcsMCwwLDAsNDIuNSwxMGwxLjI5LTMuNTZMNDIuNSwyLjg3QTIyLjY1LDIyLjY1LDAsMCwwLDQ4LjkxLDYuNDRaIi8+PC9zdmc+"},1122:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0My44NSA0My44NSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Bc3NldCA5PC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iTGF5ZXJfMS0yIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIzLjc4LDIwLjA4SDQzLjg1djMuNzlIMjMuNzh2MjBIMjB2LTIwSDBWMjAuMDhIMjBWMGgzLjhaIi8+PC9nPjwvZz48L3N2Zz4="},1123:function(e,t,n){"use strict";n(708)},1124:function(e,t,n){(t=n(2)(!1)).push([e.i,'#nomination .error-alert[data-v-17bcad50]{width:175px;float:left;padding-top:5px;padding-bottom:5px;margin-top:-15px}#nomination hr[data-v-17bcad50]{width:calc(100% - 55px);margin:auto}#nomination .message[data-v-17bcad50]{color:grey;border:1px solid #d3d3d3;padding:8px;border-radius:6px}#nomination .character-count[data-v-17bcad50]{color:grey}#nomination .character-count.low[data-v-17bcad50]{color:#ee1c25!important}#nomination .pts-button[data-v-17bcad50]{height:44px;width:44px;margin-top:6px;margin-left:5px}#nomination .pts-button[data-v-17bcad50]:hover{position:relative}#nomination .pts-button:hover .credits-count[data-v-17bcad50]{top:6px;left:4px}#nomination .pts-button[data-v-17bcad50]:hover:after{top:-5px;left:auto;bottom:auto;right:-100px;position:absolute;z-index:1;content:"Award Tokens";font-style:italic;width:149px;height:55px;margin:auto;border-radius:250px;background:#f2f2f2;display:flex;align-items:center;z-index:-1;padding-left:55px;font-size:11px;color:#000}#nomination .choose-badge-btn[data-v-17bcad50]{border:none;background:#eee;color:#c4d600;border-radius:250px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:55px;text-align:right;padding:0 51px 0 4px;font-size:14px;font-style:italic;font-weight:700;overflow:hidden;float:right}@media only screen and (max-width:600px){#nomination .choose-badge-btn[data-v-17bcad50]{overflow:visible;overflow:initial;width:80vw;height:100px;border-radius:4px}}#nomination .choose-badge-btn .badge[data-v-17bcad50]{position:relative;z-index:1}#nomination .content[data-v-17bcad50]{flex-direction:column;display:flex;align-items:center;background:#fff}#nomination .content[data-v-17bcad50],#nomination .giver-receiver[data-v-17bcad50]{justify-content:center}#nomination .giver-receiver .name[data-v-17bcad50]{text-transform:capitalize;margin-top:5px;font-size:12px;max-width:110px;word-break:break-word}#nomination .receiver[data-v-17bcad50]{cursor:pointer}#nomination .avatar[data-v-17bcad50]{background:#86bc25;width:90px;height:90px;margin:auto}#nomination .avatar.empty img[data-v-17bcad50]{width:70%}#nomination .arrow-right[data-v-17bcad50]{width:115px;line-height:0}@media only screen and (max-width:600px){#nomination .arrow-right[data-v-17bcad50]{width:78px}}#nomination .giver-receiver[data-v-17bcad50],#nomination header[data-v-17bcad50],#nomination textarea[data-v-17bcad50]{width:100%}#nomination textarea[data-v-17bcad50]{resize:none;margin:10px 0}#nomination header p[data-v-17bcad50]{background-color:#000;color:#fff;padding:10px 20px;border-radius:1px;font-size:16px;font-weight:800;margin:5px}#nomination .controls[data-v-17bcad50]{width:100%;align-items:center;padding-bottom:10px;position:relative}#nomination .post-btn[data-v-17bcad50]{border-radius:50px;padding:10px 0;background:#86bc25;color:#fff;width:calc(100% - 50px)}#nomination .preview-mode[data-v-17bcad50],#nomination .select-mode[data-v-17bcad50]{width:100%}#nomination .select-mode[data-v-17bcad50]{position:relative;height:280px;margin-bottom:20px;border:2px solid #86bc25;border-radius:5px;padding:10px;width:calc(100% - 50px)}#nomination .select-mode .cancel[data-v-17bcad50]{position:absolute;right:10px;z-index:10;cursor:pointer}#nomination .select-mode .search[data-v-17bcad50]{width:100%;padding:8px 2px;border:none;border-bottom:1px solid #000;font-style:italic;font-weight:200}#nomination .select-mode .receivers[data-v-17bcad50]{height:220px;margin-top:10px;padding:0;overflow:auto}#nomination .select-mode .receivers li[data-v-17bcad50]{list-style:none;margin-bottom:10px;font-size:.9rem;cursor:pointer}#nomination .select-mode .receivers .employee-details[data-v-17bcad50]{display:inline-block;vertical-align:middle;width:calc(100% - 55px);text-transform:capitalize}#nomination .select-mode .receivers .employee-details small[data-v-17bcad50]{word-break:break-all}#nomination .select-mode .avatar[data-v-17bcad50]{width:40px;height:40px;margin-right:10px;display:inline-block;vertical-align:middle}#nomination .badge-ctrl[data-v-17bcad50],#nomination .credit-ctrl[data-v-17bcad50]{position:absolute;top:0;width:100%}#nomination .controls[data-v-17bcad50]{height:85px}#nomination .credit-ctrl[data-v-17bcad50]{z-index:5;margin-top:5px}#nomination .credit-ctrl .credits-count[data-v-17bcad50]{top:11px;left:9px;bottom:9px;right:auto;position:absolute;z-index:1;width:35px;height:35px;background-color:#858585;border-radius:90%;padding:7px;color:#fff;text-align:center;font-weight:700;margin:auto}#nomination .credit-ctrl small[data-v-17bcad50]{position:absolute;left:58px;bottom:-25px;color:#1a1a1a}#nomination .credit-ctrl .credit-wrapper[data-v-17bcad50]{height:65%;padding:7px;border-radius:30px;margin:auto 0}#nomination .credit-ctrl .input-group[data-v-17bcad50]{border:none;background:#eee;border-radius:250px;width:175px;position:absolute;height:55px;z-index:-1;display:flex;justify-content:flex-end;padding-right:8px}#nomination .credit-ctrl .input-group .point-btn[data-v-17bcad50]{color:#515151}#nomination .credit-ctrl .input-group .point-btn .material-icons[data-v-17bcad50]{font-size:26px}#nomination .credit-ctrl .input-group .credit-count[data-v-17bcad50]{margin:0 2px;color:#858585;min-width:18px;text-align:center}#nomination .credit-ctrl.active .pts-button[data-v-17bcad50]:hover:after{display:none}#nomination .badge-selected[data-v-17bcad50],#nomination .select-badge[data-v-17bcad50]{width:44px}#nomination .badge-selected img[data-v-17bcad50],#nomination .select-badge img[data-v-17bcad50]{width:100%}#nomination .badge-selected[data-v-17bcad50]:hover,#nomination .select-badge[data-v-17bcad50]:hover{position:relative}#nomination .badge-selected[data-v-17bcad50]:hover:after,#nomination .select-badge[data-v-17bcad50]:hover:after{top:-5px;left:-100px;bottom:auto;right:auto;position:absolute;z-index:1;content:"Choose Badge";font-style:italic;width:149px;height:55px;margin:auto;border-radius:250px;background:#e0e0e0;display:flex;align-items:center;z-index:-1;padding-left:18px;font-size:11px;color:#000}#nomination .badge-ctrl[data-v-17bcad50]{width:44px;right:0;min-height:48px;z-index:10}#nomination .badge-ctrl.active .badge-selected[data-v-17bcad50]:after,#nomination .badge-ctrl.active .select-badge[data-v-17bcad50]:after{display:none}#nomination .badge-ctrl .badge-selected[data-v-17bcad50],#nomination .badge-ctrl .select-badge[data-v-17bcad50]{cursor:pointer;top:5px;left:auto;bottom:auto;right:5px;position:absolute;z-index:1}#nomination .badge-list[data-v-17bcad50],#nomination .badge-placeholder[data-v-17bcad50]{overflow:auto;white-space:nowrap;width:80%;float:left}#nomination .badge-placeholder[data-v-17bcad50]{height:100%}#nomination .badge-placeholder span[data-v-17bcad50]{font-size:12px}#nomination .badge-list[data-v-17bcad50]{padding-top:7px;width:100%;margin-bottom:-60px;padding-bottom:60px;overflow-y:hidden;overflow-x:auto}@media only screen and (max-width:600px){#nomination .badge-list[data-v-17bcad50]{display:flex;flex-wrap:wrap}}#nomination .badge-list .badge[data-v-17bcad50]{display:inline-block;width:35px;margin:3px 2px}#nomination .badge-list .badge img[data-v-17bcad50]{width:100%;height:unset}#nomination .save-credit[data-v-17bcad50]{margin:auto -9px auto 0;vertical-align:middle;color:#86bc25;font-size:55px}#nomination .save-credit.disabled[data-v-17bcad50]{color:#858585}#nomination .help-btn[data-v-17bcad50]{position:absolute;width:15px;right:-15px}@media screen and (max-width:1300px){#nomination-modal .v-card__text[data-v-17bcad50]{overflow:auto!important;height:45vh!important;padding-top:0!important}}#nomination-modal .badge[data-v-17bcad50]{text-align:center;width:18%;margin:0 26px}@media screen and (max-width:1300px){#nomination-modal .badge[data-v-17bcad50]{width:inherit}}#nomination-modal .badge .badge-img[data-v-17bcad50]{max-width:110px;margin:auto}',""]),e.exports=t},1125:function(e,t,n){"use strict";n(709)},1126:function(e,t,n){(t=n(2)(!1)).push([e.i,"#home .promo-container[data-v-17361a77]{margin-bottom:15px;grid-template-columns:2fr 1fr;grid-gap:15px;width:99vw;padding-right:3px;padding-left:3px;padding-top:0}@media only screen and (max-width:992px){#home .promo-container[data-v-17361a77]{grid-template-columns:1fr;height:100%;grid-template-rows:400px;max-height:900px;width:100vw}}#home .reward-listing[data-v-17361a77]{background:#e0e0e0;min-height:566px}",""]),e.exports=t},1129:function(e,t,n){"use strict";n.r(t);n(35),n(33),n(48),n(13),n(34),n(78),n(14);var o=n(4),r=n(10),c=n(12),d=n(429),l=[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("p",[this._v("Show your appreciation")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"center-align arrow-right p-md-horizontal"},[t("em",{staticClass:"thin"},[this._v("to")]),this._v(" "),t("span",[t("img",{staticClass:"responsive-img mt-1",attrs:{src:n(1121),alt:"Arrow Right"}})])])}],m=(n(28),n(117),n(189),n(198),n(116),n(47),n(446)),v=n.n(m),h=n(477);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={mixins:[h.a],data:function(){return{alertText:null,alertTimeout:null,alertType:"error",alertVisible:!1,confirmationDialog:!1,credits:null,creditSelected:5,dialog:!1,employees:[],errorDialog:!1,errors:[],infiniteIdentifier:new Date,isBadgeSelectMode:!1,isCreditGiveMode:!1,isSelectMode:!1,isSending:!1,maximum_points:100,message:"",page:1,receiver:null,search:"",searchTimeout:null,selectedBadge:null}},computed:x(x({},Object(c.b)({user:"session/GET_PROFILE",userAvatar:"session/GET_USER_AVATAR",badges:"badges/GET"})),{},{receiverAvatar:function(){return this.receiver?this.receiver.avatar:n(1122)},textareaPlaceholder:function(){return"Type your message here"},canSend:function(){return this.receiver&&this.selectedBadge&&this.message},characterLeft:function(){var e=this.message.match(/.[^\n]*/g);return e?280-e.join("").length:280},isReceiverPartner:function(){return!!this.receiver&&1==this.receiver.is_partner}}),methods:{creditMode:function(){this.isCreditGiveMode=!this.isCreditGiveMode,this.incrementPoints(!0)},infiniteHandler:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={page:t.page++},t.search&&(o.search=t.search),n.next=5,t.$axios.get(t.$queryBuilder("/users",o));case 5:r=n.sent,c=r.data.data,t.employees.length>0?t.employees.concat(c):t.employees=c,c.length>0?e.loaded():e.complete(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),t.$toast.error(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},resetInfiniteScroll:function(){this.infiniteIdentifier+=1,this.page=1,this.employees=[]},cancelSelectMode:function(){this.resetInfiniteScroll(),this.isSelectMode=!1},selectReceiver:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.receiver=e,t.isSelectMode=!1,t.isCreditGiveMode=!1,t.isBadgeSelectMode=!1,1===e.is_partner&&(t.creditSelected=5,t.credits=null),n.next=7,t.$axios.get("/nominations/get_maximum_recipient_token_limit",{params:{recipient_id:t.receiver.id}});case 7:o=n.sent,t.maximum_points=o.data.data.maximum_token_limit,t.creditSelected>t.maximum_points&&(t.creditSelected=t.maximum_points),t.user.black_token<5&&(t.creditSelected=0);case 11:case"end":return n.stop()}}),n)})))()},selectBadge:function(e){this.selectedBadge=e,this.isBadgeSelectMode=!1},confirm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,text;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:"Do you want to confirm the action below?",buttonTrueText:"Confirm",buttonFalseText:"Back",color:"black",icon:""},text="\n      <p>Your Message: ".concat(e.message,"</p>\n      <p>Token Value: ").concat(e.credits?e.credits:0,"</p>\n      <p>Badge Type: ").concat(e.selectedBadge.title_html,"</p>\n      "),t.next=4,e.$confirm(text,n);case 4:t.sent&&e.post();case 6:case"end":return t.stop()}}),t)})))()},post:function(){var e=this,t={id:this.receiver.id,badge_id:this.selectedBadge.id,credits:this.credits?this.credits:0,message:this.message};this.isSending=!0,this.$store.dispatch("nominations/send",t).then((function(){e.$store.dispatch("nominations/fetchAll"),e.$store.commit("session/DEDUCT_PROFILE_TOKENS",t.credits),e.$toast.success("Nomination successfully sent."),e.reset()})).catch((function(t){for(var n in e.errors=[],e.errorDialog=!0,t.response.data)e.errors.push(t.response.data[n][0])})).finally((function(){e.confirmationDialog=!1,e.isSending=!1,setTimeout((function(){e.$redrawVueMasonry()}),300)}))},reset:function(){this.isBadgeSelectMode=!1,this.isCreditGiveMode=!1,this.isSelectMode=!1,this.creditSelected=5,this.selectedBadge=null,this.receiver=null,this.credits=null,this.message="",this.errors=[]},toggleIsBadgeSelectMode:function(){this.isBadgeSelectMode=!this.isBadgeSelectMode},incrementPoints:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.creditSelected+=1);var n=!1;this.user.black_token<this.creditSelected&&(n=!0,this.creditSelected=this.user.black_token),this.user.black_token<5&&(n=!0,this.creditSelected=0),this.creditSelected>this.user.maximum_token_limit&&(this.creditSelected=this.user.maximum_token_limit),this.creditSelected>this.maximum_points&&(this.creditSelected=this.maximum_points),n&&(this.alertVisible=!0,this.alertType="error",this.alertText="Insufficient tokens",this.alertTimeout=setTimeout((function(){return e.alertVisible=!1}),5e3))},decrementPoints:function(){this.creditSelected-=1,this.creditSelected<5&&(this.creditSelected=5),(this.user.black_token<5||this.creditSelected<0)&&(this.creditSelected=0)},saveSelectedCredit:function(){this.credits=this.creditSelected,this.isCreditGiveMode=!1}},watch:{message:function(e,t){e.indexOf("\n\n\n")>=0&&(this.message=t),this.characterLeft<0&&(this.message=t)},search:function(){var e=this;this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){e.resetInfiniteScroll(),e.searchTimeout=null}),500)}},components:{InfiniteLoading:v.a}},w=(n(1123),n(9)),y={components:{Nomination:Object(w.a)(_,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"nomination"}},[o("div",{staticClass:"content"},[e._m(0),e._v(" "),e.isSelectMode?o("div",{staticClass:"select-mode p-lg-horizontal"},[o("div",{staticClass:"cancel",on:{click:e.cancelSelectMode}},[o("i",{staticClass:"material-icons"},[e._v("cancel")])]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search",attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),o("ul",{staticClass:"receivers"},[e._l(e.employees,(function(t,n){return o("li",{key:n,on:{click:function(n){return e.selectReceiver(t)}}},[o("div",{staticClass:"avatar"},[o("img",{attrs:{src:t.avatar}})]),e._v(" "),o("div",{staticClass:"employee-details"},[o("strong",[e._v(e._s(t.name))]),o("br"),e._v(" "),o("strong",[o("strong",[e._v(e._s(t.position_name))]),e._v(" | "+e._s(t.service_line_name))]),o("br"),e._v(" "),o("small",[o("strong",[e._v(e._s(t.email))])])])])})),e._v(" "),o("infinite-loading",{attrs:{identifier:e.infiniteIdentifier},on:{infinite:e.infiniteHandler}},[o("div",{attrs:{slot:"spinner"},slot:"spinner"},[e._v("Fetching...")]),e._v(" "),o("div",{attrs:{slot:"no-more"},slot:"no-more"},[e._v("All users have been loaded")]),e._v(" "),o("div",{attrs:{slot:"no-results"},slot:"no-results"},[e._v("No Search Results Found")])])],2)]):o("div",{staticClass:"preview-mode p-lg-horizontal"},[o("br"),e._v(" "),o("div",{staticClass:"giver-receiver container--flex container--flex-align-item-center"},[o("div",{staticClass:"giver center"},[o("div",{staticClass:"avatar"},[o("img",{attrs:{src:e.userAvatar}})]),e._v(" "),o("p",{staticClass:"name"},[o("strong",[e._v(e._s(e.user.name))])])]),e._v(" "),e._m(1),e._v(" "),o("div",{staticClass:"receiver center",on:{click:function(t){e.isSelectMode=!0}}},[o("div",{staticClass:"avatar",class:{empty:null===e.receiver}},[o("img",{attrs:{src:e.receiverAvatar}})]),e._v(" "),o("div",{staticClass:"name"},[null===e.receiver?o("p",{staticClass:"name"},[o("strong",[e._v("Recipient")])]):o("p",{staticClass:"name"},[o("strong",[e._v(e._s(e.receiver.name))])])])])]),e._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"message",attrs:{name:"message",rows:"5",placeholder:e.textareaPlaceholder},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),o("small",{staticClass:"character-count right",class:{mid:e.characterLeft<=70,low:0===e.characterLeft}},[o("em",[e._v(e._s(e.$pluralize("character",e.characterLeft))+" left")])]),e._v(" "),o("br"),o("br"),e._v(" "),o("div",{staticClass:"controls"},[e.isBadgeSelectMode||e.isReceiverPartner?e._e():o("div",{staticClass:"credit-ctrl no-padding container--flex",class:{active:e.isCreditGiveMode}},[o("div",{staticClass:"pts-button clickable",on:{click:function(t){return e.creditMode()}}},[o("img",{staticClass:"responsive-img",attrs:{src:n(1119),alt:"Tokens"}}),e._v(" "),null!==e.credits||e.isCreditGiveMode?o("span",{staticClass:"credits-count"},[e._v("\n              "+e._s(e.isCreditGiveMode?e.creditSelected:e.credits)+"\n            ")]):e._e()]),e._v(" "),e.isCreditGiveMode?o("div",{staticClass:"input-group"},[o("div",{staticClass:"credit-wrapper container--flex container--flex-align-item-center"},[o("div",{staticClass:"clickable point-btn",on:{click:function(t){return e.decrementPoints()}}},[o("i",{staticClass:"material-icons"},[e._v("remove")])]),e._v("\n                \n              "),o("div",{staticClass:"clickable point-btn",on:{click:function(t){return e.incrementPoints()}}},[o("i",{staticClass:"material-icons"},[e._v("add")])])]),e._v(" "),o("i",{staticClass:"material-icons save-credit clickable",class:{disabled:e.isReceiverPartner},on:{click:e.saveSelectedCredit}},[e._v("check_circle")])]):e._e()]),e._v(" "),e.isCreditGiveMode?e._e():o("div",{staticClass:"badge-ctrl no-padding",class:{active:e.isBadgeSelectMode}},[e.isBadgeSelectMode?o("div",{staticClass:"choose-badge-btn"},[e.isBadgeSelectMode?o("div",{staticClass:"badge-list"},e._l(e.badges,(function(b,i){return o("div",{key:i,staticClass:"badge clickable",on:{click:function(t){return e.selectBadge(b)}}},[o("v-tooltip",{attrs:{top:""}},[o("img",{attrs:{slot:"activator",src:b.icon},slot:"activator"}),e._v(" "),o("span",{domProps:{innerHTML:e._s(b.title_html)}})])],1)})),0):o("div",{staticClass:"badge-placeholder container--flex container--flex-align-item-center"},[o("span",[e._v("Choose a badge")])])]):e._e(),e._v(" "),o("div",{staticClass:"select-badge"},[null===e.selectedBadge?o("img",{staticClass:"responsive-img",attrs:{src:n(1120),alt:"Select Badge"},on:{click:function(t){return e.toggleIsBadgeSelectMode()}}}):e._e()]),e._v(" "),null!==e.selectedBadge?o("div",{staticClass:"badge-selected",on:{click:function(t){return e.toggleIsBadgeSelectMode()}}},[o("img",{attrs:{src:e.selectedBadge.icon}})]):e._e()]),e._v(" "),e.isCreditGiveMode?e._e():o("div",{staticClass:"help-btn"},[o("v-dialog",{attrs:{width:"60%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("div",{staticClass:"help",attrs:{slot:"activator"},slot:"activator"},[o("img",{staticClass:"responsive-img",attrs:{src:n(479),alt:"help"}})]),e._v(" "),o("div",{attrs:{id:"nomination-modal"}},[o("v-card",[o("v-card-title",{staticClass:"pa-0"},[o("div",{staticClass:"cancel clickable",on:{click:function(t){e.dialog=!1}}},[o("img",{staticClass:"responsive-img",attrs:{src:n(456)}})])]),e._v(" "),o("v-card-text",[o("div",{staticClass:"container--flex container--flex-wrap container--flex-justify-center"},e._l(e.badges,(function(b,t){return o("div",{key:t,staticClass:"badge mt-3"},[o("div",{staticClass:"badge-img"},[o("img",{staticClass:"responsive-img",attrs:{src:b.img}})]),e._v(" "),o("p",{staticClass:"mb-0"},[o("strong",{domProps:{innerHTML:e._s(b.title_html)}})]),e._v(" "),o("p",[e._v(e._s(b.description))])])})),0)])],1)],1)])],1)]),e._v(" "),o("div",[o("v-alert",{staticClass:"error-alert",attrs:{color:e.alertType,value:e.alertVisible}},[e._v("\n          "+e._s(e.alertText)+"\n        ")])],1)]),e._v(" "),o("hr"),e._v(" "),o("button",{staticClass:"btn clickable post-btn full-btn p-lg-horizontal m-md-vertical",attrs:{type:"button",disabled:e.isSending||!e.canSend||e.isCreditGiveMode},on:{click:function(t){return t.preventDefault(),e.confirm()}}},[e.isSending?e._e():o("strong",[e._v("Post")]),e._v(" "),e.isSending?o("strong",[o("v-progress-circular",{staticStyle:{"margin-top":"-7px"},attrs:{width:2,size:20,color:"green",indeterminate:""}})],1):e._e()])]),e._v(" "),o("v-dialog",{attrs:{width:"500"},model:{value:e.errorDialog,callback:function(t){e.errorDialog=t},expression:"errorDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[e._v("\n        Error\n      ")]),e._v(" "),o("v-card-text",[o("ul",e._l(e.errors,(function(t,n){return o("li",{key:n},[e._v("\n            "+e._s(t)+"\n          ")])})),0)]),e._v(" "),o("v-divider"),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"error",flat:""},on:{click:function(t){e.errorDialog=!1}}},[e._v("\n          Close\n        ")])],1)],1)],1)],1)}),l,!1,null,"17bcad50",null).exports}},k=n(553);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var I={mixins:[d.a,k.a,y,h.a],computed:S({},Object(c.b)({nominations:"nominations/GET",isAdmin:"session/IS_ADMIN"})),data:function(){return{banners:[],dialog:!1,editedNomination:{},isFetching:!1,refundTokenLoading:!1,removeBadgeLoading:!1,removeTokenLoading:!1,reverse:!1}},mounted:function(){var e=this;this.isFetching=!0,this.reverse=this.$route.query.reverse,this.$axios.get(this.$queryBuilder("/banners",{rpp:0})).then((function(t){var n=t.data.data.map((function(b){return S(S({},b),{},{action:e.updateURL(b.action)})}));e.banners=n})).catch((function(t){e.$toast.error(t.response.message)})).finally((function(){e.isFetching=!1}))},methods:{editNomination:function(e){this.dialog=!this.dialog,this.editedNomination=e},closeModal:function(){this.dialog=!1},save:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$axios.post("/black-token-post",{id:e.editedNomination.id,message:e.editedNomination.message}).then((function(){e.$toast.success("Entry successfully updated.");var t=e.nominations.findIndex((function(t){return t.id===e.editedNomination.id}));t>=0&&(e.nominations[t]=e.editedNomination)})).catch((function(t){var n=t.response?t.response.message:t;e.$toast.error(n)})).finally((function(){e.dialog=!1}));case 1:case"end":return t.stop()}}),t)})))()},deleteNomination:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:"Delete nomination",buttonTrueText:"Confirm",buttonFalseText:"Cancel",buttonFalseColor:"red",buttonTrueColor:"light-green lighten-1",color:"black",icon:""},t.next=3,e.$confirm('<div class="center">You are about to delete this nomination!<br>Click "Confirm" to proceed.</div>',n);case 3:t.sent?e.$axios.post("/nominations/remove-wallpost",{id:e.editedNomination.id}).then((function(){e.$toast.success("Nomination successfully deleted."),e.editedNomination.is_recipienttoken_removed=1;var t=e.nominations.findIndex((function(t){return t.id===e.editedNomination.id}));t>=0&&e.nominations.splice(t,1),e.dialog=!1})).catch((function(t){var n=t.response?t.response.message:t;e.$toast.error(n)})).finally((function(){e.removeTokenLoading=!1})):e.removeTokenLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},removeToken:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.length>0&&void 0!==e[0]?e[0]:1,t.removeTokenLoading=!0,r={title:"Remove Token confirmation",buttonTrueText:"Confirm",buttonFalseText:"Cancel",buttonFalseColor:"red",buttonTrueColor:"light-green lighten-1",color:"black",icon:""},n.next=5,t.$confirm('<div class="center">You are about to remove the token!<br>Click "Confirm" to proceed.</div>',r);case 5:n.sent?t.$axios.post("/post-remove-retain-token-recipient",{id:t.editedNomination.id,remove:o}).then((function(){t.$toast.success("Token successfully removed."),t.editedNomination.is_recipienttoken_removed=1;var e=t.nominations.findIndex((function(e){return e.id===t.editedNomination.id}));e>=0&&(t.nominations[e]=t.editedNomination)})).catch((function(e){var n=e.response?e.response.message:e;t.$toast.error(n)})).finally((function(){t.removeTokenLoading=!1})):t.removeTokenLoading=!1;case 7:case"end":return n.stop()}}),n)})))()},refundToken:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.refundTokenLoading=!0,n={title:"Refund token confirmation",buttonTrueText:"Confirm",buttonFalseText:"Cancel",buttonFalseColor:"red",buttonTrueColor:"light-green lighten-1",color:"black",icon:""},t.next=4,e.$confirm('<div class="center">You are about to refund the tokens!<br>Click "Confirm" to proceed.</div>',n);case 4:t.sent?e.$axios.post("/refund_black_token",{id:e.editedNomination.id}).then((function(){e.$toast.success("Tokens successfully refunded."),e.refundTokenLoading=!1,e.editedNomination.is_refunded=1;var t=e.nominations.findIndex((function(t){return t.id===e.editedNomination.id}));t>=0&&(e.nominations[t]=e.editedNomination)})).catch((function(t){var n=t.response?t.response.message:t;e.$toast.error(n)})).finally((function(){e.refundTokenLoading=!1})):e.refundTokenLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},removeBadge:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.length>0&&void 0!==e[0]?e[0]:1,t.removeBadgeLoading=!0,r={title:"Remove Badge confirmation",buttonTrueText:"Confirm",buttonFalseText:"Cancel",buttonFalseColor:"red",buttonTrueColor:"light-green lighten-1",color:"black",icon:""},n.next=5,t.$confirm('<div class="center">You are about to remove the Badge!<br>Click "Confirm" to proceed.</div>',r);case 5:n.sent?t.$axios.post("/post-remove-retain-badge",{id:t.editedNomination.id,remove:o}).then((function(){t.$toast.success("Badge successfully removed."),t.editedNomination.is_badge_removed=1;var e=t.nominations.findIndex((function(e){return e.id===t.editedNomination.id}));e>=0&&(t.nominations[e]=t.editedNomination)})).catch((function(e){var n=e.response?e.response.message:e;t.$toast.error(n)})).finally((function(){t.removeBadgeLoading=!1})):t.removeBadgeLoading=!1;case 7:case"end":return n.stop()}}),n)})))()},getBannerStyle:function(e){return{backgroundImage:"url(".concat(e,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#000",backgroundSize:"100%",width:"100%",height:"100%"}},updateURL:function(e){if(e){return e.replace(/(http:\/\/|www\.)/,"https://")}}}},M=(n(1125),Object(w.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"page",attrs:{id:"home"}},[n("div",{staticClass:"promo-container container container--grid pb-0"},[e.isFetching?n("v-progress-circular",{staticClass:"center-block",attrs:{size:50,color:"primary",indeterminate:""}}):e._e(),e._v(" "),0!==e.banners.length||e.isFetching?e._e():n("div",[n("carousel",[n("carousel-item",{staticStyle:{"background-image":"url(/img/carousel/deloitte.png)","background-position":"center","background-repeat":"no-repeat","background-color":"#000","background-size":"100%"}})],1)],1),e._v(" "),e.banners.length>0&&!e.isFetching?n("div",[n("carousel",e._l(e.banners,(function(t,o){return n("carousel-item",{key:o,attrs:{action:t.action}},[t.action&&"#"!==t.action?n("a",{attrs:{href:t.action,target:t.is_open_in_new_tab?"_blank":"_self"}},[n("div",{style:e.getBannerStyle(t.file_url)})]):n("div",{style:e.getBannerStyle(t.file_url)})])})),1)],1):e._e(),e._v(" "),n("nomination")],1),e._v(" "),n("div",{staticClass:"content reward-listing"},[n("nomination-list",{attrs:{nominations:e.nominations,"show-filter":!1,"show-sort":!1},on:{welcome:e.editNomination}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:""}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.closeModal()}}},[n("v-icon",[e._v("close")])],1),e._v(" "),n("v-toolbar-title",[e._v("Edit Appreciation Wall Entry")]),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-card-text",[n("div",{staticClass:"container--flex mb-4"},[n("div",{staticClass:"flex-1 preview-item"},[n("div",{staticClass:"col-8 offset-2"},[n("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.removeBadgeLoading,disabled:1==e.editedNomination.is_badge_removed,color:"red"},on:{click:function(t){return e.removeBadge()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" "),n("span",[e._v("Remove Badge")])],1),e._v(" "),n("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.removeTokenLoading,disabled:1==e.editedNomination.is_recipienttoken_removed||0==e.editedNomination.credits,color:"red"},on:{click:function(t){return e.removeToken()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" "),n("span",[e._v("Remove Token")])],1),e._v(" "),n("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.refundTokenLoading,disabled:0==e.editedNomination.is_recipienttoken_removed||1==this.editedNomination.is_refunded,color:"green"},on:{click:function(t){return e.refundToken()}}},[n("v-icon",{attrs:{left:""}},[e._v("refresh")]),e._v(" "),n("span",[e._v("Refund Token")])],1),e._v(" "),e.reverse?n("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.removeBadgeLoading,disabled:0==e.editedNomination.is_badge_removed,color:"green"},on:{click:function(t){return e.removeBadge(0)}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" "),n("span",[e._v("Return Badge")])],1):e._e(),e._v(" "),e.reverse?n("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.refundTokenLoading,disabled:0==e.editedNomination.is_recipienttoken_removed,color:"green"},on:{click:function(t){return e.removeToken(0)}}},[n("v-icon",{attrs:{left:""}},[e._v("remove")]),e._v(" "),n("span",[e._v("Return Token")])],1):e._e(),e._v(" "),n("v-textarea",{attrs:{label:"Message",color:"light-green lighten-1"},model:{value:e.editedNomination.message,callback:function(t){e.$set(e.editedNomination,"message",t)},expression:"editedNomination.message"}})],1),e._v(" "),n("div",[n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.save()}}},[e._v("Save")]),e._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.deleteNomination()}}},[e._v("Delete Full Post")])],1)])])])],1)],1)],1)])}),[],!1,null,"17361a77",null));t.default=M.exports},429:function(e,t,n){"use strict";n(14);var o=n(4);t.a={middleware:"authenticated",layout:"default",mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.commit("ranking/SET_FIXTURE"),e.$store.commit("badges/SET_FIXTURE"),t.prev=2,t.next=5,e.$store.dispatch("session/fetchUserProfile");case 5:return t.next=7,e.$store.dispatch("organization/fetchUsers");case 7:return t.next=9,e.$store.dispatch("badges/fetchUserBadges");case 9:return t.next=11,e.$store.dispatch("cart/fetch");case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),t.t0({statusCode:404,message:"Page not found"}),e.$toast.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))()}}},430:function(e,t,n){"use strict";var o=n(19),r=n(6),c=n(76),d=n(24),l=n(21),m=n(37),v=n(188),h=n(74),f=n(8),x=n(115),_=n(114).f,w=n(58).f,y=n(23).f,k=n(431).trim,C=r.Number,S=C.prototype,I="Number"==m(x(S)),M=function(e){var t,n,o,r,c,d,l,code,m=h(e,!1);if("string"==typeof m&&m.length>2)if(43===(t=(m=k(m)).charCodeAt(0))||45===t){if(88===(n=m.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(m.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+m}for(d=(c=m.slice(2)).length,l=0;l<d;l++)if((code=c.charCodeAt(l))<48||code>r)return NaN;return parseInt(c,o)}return+m};if(c("Number",!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var T,j=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof j&&(I?f((function(){S.valueOf.call(n)})):"Number"!=m(n))?v(new C(M(t)),n,j):M(t)},N=o?_(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;N.length>L;L++)l(C,T=N[L])&&!l(j,T)&&y(j,T,w(C,T));j.prototype=S,S.constructor=j,d(r,"Number",j)}},431:function(e,t,n){var o=n(22),r="["+n(432)+"]",c=RegExp("^"+r+r+"*"),d=RegExp(r+r+"*$"),l=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(d,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},432:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},456:function(e,t,n){e.exports=n.p+"img/close.b503dd1.png"},460:function(e,t,n){var content=n(507);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("aa754216",content,!0,{sourceMap:!1})},461:function(e,t,n){var content=n(509);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("250f0fe6",content,!0,{sourceMap:!1})},462:function(e,t,n){var content=n(511);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("8edd08ba",content,!0,{sourceMap:!1})},463:function(e,t,n){var content=n(513);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("484761a4",content,!0,{sourceMap:!1})},477:function(e,t,n){"use strict";n(49),n(430),n(47);var o={props:{autoplay:{type:Boolean,default:!0},showIndicator:{type:Boolean,default:!0},autoplayDelay:{type:Number,default:5e3},invertedIndicatorColor:{type:Boolean,default:!1}},mounted:function(){this.autoplay&&this.startTimer(),this.slideCount=this.$children.filter((function(e){return"carousel-item"===e.$el.id})).length},destroyed:function(){clearInterval(this.intervalID)},data:function(){return{intervalID:null,curSlide:1,slideCount:0}},methods:{next:function(){this.startTimer(),this.curSlide=this.curSlide===this.slideCount?1:this.curSlide+1},prev:function(){this.startTimer(),this.curSlide=1===this.curSlide?this.slideCount:this.curSlide-1},startTimer:function(){null!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=setInterval(this.next,this.autoplayDelay)}},computed:{carouselStyle:function(){return{"margin-left":"".concat(-100*(this.curSlide-1),"%")}}}},r=(n(510),n(9)),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"carousel"}},[n("div",{staticClass:"content",style:e.carouselStyle,on:{click:function(t){return e.next()}}},[e._t("default")],2),e._v(" "),e.slideCount>1?n("div",{staticClass:"controls"},e._l(e.slideCount,(function(t){return e.showIndicator?n("div",{key:t,staticClass:"indicator clickable",class:{active:t===e.curSlide,inverted:e.invertedIndicatorColor},on:{click:function(n){e.curSlide=t}}}):e._e()})),0):e._e()])}),[],!1,null,"02b91e01",null).exports,d=(n(512),Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"carousel-item"}},[this._t("default")],2)}),[],!1,null,"6f2970dc",null).exports);t.a={components:{Carousel:c,CarouselItem:d}}},479:function(e,t,n){e.exports=n.p+"img/question-mark.c1a18f6.png"},506:function(e,t,n){"use strict";n(460)},507:function(e,t,n){(t=n(2)(!1)).push([e.i,"#nomination-item[data-v-b82a9766]{background-color:#fff;padding:15px 15px 5px}#nomination-item header[data-v-b82a9766]{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid #bdbdbd;margin-bottom:20px;padding-bottom:15px}#nomination-item footer[data-v-b82a9766]{border-top:1px solid #bdbdbd;margin-top:10px;padding-top:10px}#nomination-item .content[data-v-b82a9766]{font-size:14px;min-height:331px}#nomination-item .content .date[data-v-b82a9766],#nomination-item .content .name[data-v-b82a9766]{color:#a9a9a9}#nomination-item .content .name[data-v-b82a9766]{text-transform:capitalize}#nomination-item .detail[data-v-b82a9766]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:230px;padding-left:10px}#nomination-item .detail .name[data-v-b82a9766]{font-size:20px;text-transform:capitalize}#nomination-item .comment[data-v-b82a9766]{overflow:hidden}#nomination-item .like-btn[data-v-b82a9766]{color:#000;font-size:13px;font-weight:700}#nomination-item .like-btn.active .thumbs-up-icon[data-v-b82a9766],#nomination-item .like-btn:hover .thumbs-up-icon[data-v-b82a9766]{background-image:url(/img/icons/thumbs-up-alt.svg);background-repeat:no-repeat}#nomination-item .like-btn .thumbs-up-icon[data-v-b82a9766]{background-image:url(/img/icons/thumbs-up.svg);background-repeat:no-repeat;width:30px;height:37px;display:inline-block;vertical-align:middle}",""]),e.exports=t},508:function(e,t,n){"use strict";n(461)},509:function(e,t,n){(t=n(2)(!1)).push([e.i,"#nomination-list[data-v-2aa80182]{padding:0 5px}@media only screen and (max-width:600px){#nomination-list .filter-1[data-v-2aa80182],#nomination-list .filters-control[data-v-2aa80182]{display:inherit}}#nomination-list .grid-item[data-v-2aa80182]{width:calc(25% - 8px);margin-top:8px;margin-bottom:2px}@media only screen and (min-width:601px) and (max-width:992px){#nomination-list .grid-item[data-v-2aa80182]{width:99%}}@media only screen and (max-width:600px){#nomination-list .grid-item[data-v-2aa80182]{width:calc(100% - 8px)}}",""]),e.exports=t},510:function(e,t,n){"use strict";n(462)},511:function(e,t,n){(t=n(2)(!1)).push([e.i,"#carousel[data-v-02b91e01]{position:relative;height:100%;overflow:hidden}#carousel .content[data-v-02b91e01]{width:100%;height:100%;transition:margin-left .6s cubic-bezier(.23,1,.32,1);display:flex}#carousel .controls[data-v-02b91e01]{top:auto;left:0;bottom:10px;right:0;position:absolute;z-index:1;width:100%;margin:auto;display:flex;justify-content:center}#carousel .controls .indicator[data-v-02b91e01]{width:10px;height:10px;background:#fff;border:1px solid #616161;border-radius:90%;margin:0 5px}#carousel .controls .indicator.inverted[data-v-02b91e01]{background:#e0e0e0}#carousel .controls .indicator.active[data-v-02b91e01]{background:#616161}",""]),e.exports=t},512:function(e,t,n){"use strict";n(463)},513:function(e,t,n){(t=n(2)(!1)).push([e.i,"#carousel-item[data-v-6f2970dc]{display:inline-block;width:100%;height:100%;flex:none}#carousel-item .content[data-v-6f2970dc]{width:100%;height:100%;transition:margin-left .6s cubic-bezier(.23,1,.32,1);white-space:normal;padding:25px;position:relative}@media only screen and (max-width:1024px){#carousel-item .badge-container[data-v-6f2970dc]{width:70%;margin:auto}}@media only screen and (max-width:600px){#carousel-item .badge-container[data-v-6f2970dc]{width:90%;margin:auto}}@media only screen and (max-width:1024px){#carousel-item .badge-img[data-v-6f2970dc]{max-width:105px;margin:auto}}@media only screen and (max-width:992px){#carousel-item .badge-img[data-v-6f2970dc]{max-width:105px;margin:auto}}",""]),e.exports=t},553:function(e,t,n){"use strict";n(49),n(45),n(20),n(13),n(34),n(116),n(46),n(47),n(14);var o=n(4),r=n(10),c=n(446),d=n.n(c),l=n(569),m=n(12),v=n(194);n(35);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={props:{isUserNominations:{type:Boolean,default:!1},nomination:{type:Object,required:!0}},methods:{toggleLike:function(){this.nomination&&this.$store.dispatch("nominations/like",this.nomination.id)}},computed:f(f({},Object(m.b)({isFilterTypeReceived:"nominations/IS_FILTER_TYPE_RECEIVED",user:"session/GET_PROFILE",isAdmin:"session/IS_ADMIN",badges:"badges/GET"})),{},{showHeader:function(){return!this.isUserNominations||!this.isFilterTypeReceived},badgeTitle:function(){var e=this;if(this.nomination){var t=this.badges.findIndex((function(b){return b.id===e.nomination.badge.id}));if(t>=0)return this.badges[t].title_html}return""},badgeImage:function(){var e=this;if(this.nomination){var t=this.badges.findIndex((function(b){return b.id===e.nomination.badge.id}));if(t>=0)return this.badges[t].img}return""},editNomination:function(e){console.log(e)}})},_=(n(506),n(9)),w=Object(_.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nomination-item",attrs:{id:"nomination-item"}},[e.showHeader?n("header",[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.nomination.recipient.avatar,alt:e.nomination.recipient.name}})]),e._v(" "),n("div",{staticClass:"detail"},[n("strong",{staticClass:"name"},[e._v(e._s(e.nomination.recipient.name))]),n("br"),e._v(" "),n("span",{staticClass:"department"},[e._v("\n        "+e._s(e.nomination.recipient.department_short_name||e.nomination.recipient.department_name)+"\n      ")])]),e._v(" "),n("v-btn",{staticClass:"text--white",attrs:{icon:"",color:"light-green"},on:{click:function(t){return e.$emit("welcome",e.nomination)}}},[n("v-icon",[e._v("edit")])],1)],1):e._e(),e._v(" "),n("div",{staticClass:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.nomination.is_badge_removed,expression:"nomination.is_badge_removed == 0"}],staticClass:"badge"},[n("img",{attrs:{src:e.badgeImage}}),e._v(" "),n("p",{style:{color:"#000",fontSize:"17px",fontWeight:700},domProps:{innerHTML:e._s(e.badgeTitle)}})]),e._v(" "),n("p",{staticClass:"comment",domProps:{innerHTML:e._s(e.nomination.message)}}),e._v(" "),n("strong",{staticClass:"name"},[e._v("From "+e._s(e.nomination.sender.name))]),n("br"),e._v(" "),n("span",{staticClass:"date"},[e._v(e._s(e.$moment(e.nomination.created_at).format("DD MMM YYYY | hh:mm A")))])]),e._v(" "),n("footer",[n("a",{staticClass:"like-btn",class:{active:e.nomination.is_liked_by_user},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggleLike(t)}}},[n("span",[e._v(e._s(e.nomination.total_likes))]),e._v(" "),n("div",{staticClass:"thumbs-up-icon"}),e._v(" "),n("span",[e._v("Great job!")])])])])}),[],!1,null,"b82a9766",null).exports;function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var k={components:{NominationItem:w,InfiniteLoading:d.a},props:{nominations:{type:Array,required:!0},isUserNominations:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!0},showSort:{type:Boolean,default:!0}},data:function(){return{infiniteIdentifier:new Date,shouldFetch:!1,isSearching:!1,isSorted:!1,isFetchingDepartment:!1,page:1,searchTimeout:null,searchResult:"",search:"",filter:v.FILTER_TYPES.RECEIVED,filterItems:[{text:"Outgoing messages",value:v.FILTER_TYPES.SENT},{text:"Incoming messages",value:v.FILTER_TYPES.RECEIVED}],filterDepartment:[],departments:[],delaySearch:null,menuProps:{closeOnContentClick:!0}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(m.b)({filterType:"nominations/GET_FILTER_TYPE"})),watch:{filterDepartment:function(){var e=this;null!==this.delaySearch&&clearTimeout(this.delaySearch),this.isSorted?this.delaySearch=setTimeout((function(){e.resetInfiniteScroll(),e.delaySearch=null,e.isSorted=!1}),500):(this.filterDepartment=this.filterDepartment.sort((function(a,b){return a.name.localeCompare(b.name)})),this.isSorted=!0)},filterType:function(e,t){e!==t&&this.resetInfiniteScroll()},filter:function(e,t){e!==t&&(this.$store.commit("nominations/SET_FILTER",e),this.resetInfiniteScroll())}},methods:{editNomination:function(e){this.$emit("welcome",e)},infiniteHandler:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null,n.prev=1,r={page:t.page++,rpp:8},t.showSort&&(t.filter!==v.FILTER_TYPES.SENT&&t.filter!==v.FILTER_TYPES.RECEIVED?r.sort=t.filter:r.type=t.filterType),t.search?(r.search=t.search,t.searchResult=t.search,t.isSearching=!0):t.searchResult="",t.filterDepartment.length>0&&t.filterDepartment.forEach((function(p,i){r["departments[".concat(i,"]")]=p.id})),!t.isUserNominations){n.next=13;break}return t.$route.params.id&&(r.user_id=t.$route.params.id),n.next=10,t.$store.dispatch("nominations/fetchNextUserPageNominations",r);case 10:o=n.sent,n.next=16;break;case 13:return n.next=15,t.$store.dispatch("nominations/fetchNextPage",r);case 15:o=n.sent;case 16:t.searchTimeout=null,void 0!==o&&(0===o.length?e.complete():e.loaded()),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(1),console.error(n.t0);case 23:setTimeout((function(){t.$redrawVueMasonry()}),500);case 24:case"end":return n.stop()}}),n,null,[[1,20]])})))()},fetchDepartment:function(){var e=this;this.isFetchingDepartment=!0;this.$axios.get(this.$queryBuilder("/departments",{paginate:0,sort:"name:asc"})).then((function(t){e.departments=t.data})).catch((function(e){console.error(e)})).finally((function(){e.isFetchingDepartment=!1}))},handleScroll:function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?document.querySelector(".back-to-top").style.display="block":document.querySelector(".back-to-top").style.display="none"},backToTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},resetInfiniteScroll:function(){this.infiniteIdentifier+=1,this.page=1,this.$store.commit("nominations/CLEAR_USER_NOMINATIONS"),this.$store.commit("nominations/CLEAR_NOMINATIONS")},clearSearch:function(){this.isSearching=!1,this.searchResult="",this.search="",this.resetInfiniteScroll()},doSearch:function(e){null!==e?13===e.keyCode&&this.resetInfiniteScroll():this.resetInfiniteScroll()},doCaptializeWord:function(e){return Object(l.capitalize)(e)}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){this.resetInfiniteScroll(),window.removeEventListener("scroll",this.handleScroll)},mounted:function(){this.fetchDepartment()}},C=(n(508),Object(_.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"nomination-list"}},[e.showSearch?n("div",{staticClass:"container--flex filters-control"},[n("div",{staticClass:"flex-1 container--flex filter-1 px-0"},[e.showSort?n("v-select",{staticStyle:{width:"35px"},attrs:{id:"filter",name:"filter",items:e.filterItems,"hide-details":"","item-text":"text","item-value":"value",color:"light-green lighten-1",label:"Sort by",outline:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e._v(" "),n("div",{staticClass:"flex-1 container--flex px-0 align-center"},[e.showSort?e._e():n("div",{staticClass:"container--flex align-center"},[n("v-select",{attrs:{items:e.departments,loading:e.isFetchingDepartment,"menu-props":e.menuProps,clearable:"",label:"Filter by department",color:"light-green lighten-1","hide-details":"",multiple:"",outline:""},scopedSlots:e._u([{key:"item",fn:function(t){var o=t.item;t.index;return[n("span",{staticClass:"capitalize"},[e._v(e._s(e.doCaptializeWord(o.short_name||o.name)))])]}},{key:"selection",fn:function(t){var n=t.item,o=t.index;return[e._v("\n              "+e._s(o>0?", ":"")+e._s(n.short_name||n.name)+"\n            ")]}}],null,!1,1875531482),model:{value:e.filterDepartment,callback:function(t){e.filterDepartment=t},expression:"filterDepartment"}})],1)])],1),e._v(" "),n("v-spacer"),e._v(" "),n("div",{staticClass:"container--flex align-center flex-1 px-0"},[n("v-text-field",{staticClass:"px-0",attrs:{label:"Search",color:"light-green lighten-1","single-line":"","hide-details":""},on:{keyup:e.doSearch},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("v-btn",{staticClass:"mt-3",attrs:{icon:"",flat:""},on:{click:function(t){return t.preventDefault(),e.doSearch(null)}}},[n("v-icon",[e._v("search")])],1)],1)],1):e._e(),e._v(" "),e.isSearching?n("div",{staticClass:"container--flex align-center mb-2"},[n("v-btn",{staticClass:"white--text",attrs:{color:"light-green lighten-1"},on:{click:function(t){return e.clearSearch()}}},[e._v("\n      Exit search\n    ")]),e._v(" "),e.searchResult?n("span",[e._v('Search result for "'+e._s(e.searchResult)+'"')]):e._e()],1):e._e(),e._v(" "),n("no-ssr",[n("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"container",staticStyle:{padding:"0 0 24px"},attrs:{"transition-duration":"0.3s","horizontal-order":!0,gutter:8,stagger:"0.03s"}},e._l(e.nominations,(function(t,o){return n("nomination-item",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:o,staticClass:"grid-item",attrs:{nomination:t,"is-user-nominations":e.isUserNominations},on:{welcome:e.editNomination}})})),1)]),e._v(" "),n("a",{staticClass:"back-to-top",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.backToTop(t)}}},[n("v-tooltip",{attrs:{top:""}},[n("i",{staticClass:"material-icons",attrs:{slot:"activator"},slot:"activator"},[e._v("arrow_upward")]),e._v(" "),n("span",{staticClass:"uppercase"},[e._v("BACK TO TOP")])])],1),e._v(" "),n("infinite-loading",{attrs:{identifier:e.infiniteIdentifier},on:{infinite:e.infiniteHandler}},[n("div",{attrs:{slot:"spinner"},slot:"spinner"},[e._v("Fetching...")]),e._v(" "),n("div",{attrs:{slot:"no-more"},slot:"no-more"},[e._v("All messages have been loaded")]),e._v(" "),n("div",{attrs:{slot:"no-results"},slot:"no-results"},[e._v("No Search Results Found")])])],1)}),[],!1,null,"2aa80182",null).exports);t.a={components:{NominationList:C}}},708:function(e,t,n){var content=n(1124);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("696f8296",content,!0,{sourceMap:!1})},709:function(e,t,n){var content=n(1126);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("71b385b8",content,!0,{sourceMap:!1})}}]);