(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1150:function(t,e,o){"use strict";o.r(e);o(117),o(189),o(48),o(20),o(187),o(13);var r=o(31),n=(o(14),o(4)),c=o(10),d=o(424),l=(o(425),o(427),o(444)),f=o(12);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var m=o(44),h={head:function(){return{script:[],link:[]}},components:{},data:function(){return{progressBar:!1,dialog:!1,selected:[],sortdata:[],pagination:{rowsPerPage:10},loading:null,headers:[{text:"",align:"left",sortable:!1},{text:"Category",value:"Category",sortable:!1,align:"left"},{text:"Edit",value:"Edit",sortable:!1,align:"center"},{text:"Delete",value:"Delete",sortable:!1,align:"center"},{text:"Date / Time",value:"Date / Time",sortable:!1,align:"center"}],faqscategories:[]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(f.b)({profile:"session/GET_PROFILE"})),created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,data,c,d,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{Accept:"application/json"}},e.prev=1,t.progressBar=!0,e.next=5,m.get("https://deloitte-backend.nmgdev.com/api/fetch-faq-categories",o);case 5:for(n=e.sent,data=[],c=0,d=Object.entries(n.data.data);c<d.length;c++)l=Object(r.a)(d[c],2),l[0],f=l[1],data.push({created_at:f.created_at,id:f.id,priority:f.priority,updated_at:f.updated_at,value:f.value});t.faqscategories=data,t.progressBar=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.progressBar=!1;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},mixins:[d.a],methods:{deleteItem:function(){var t=this;if(confirm("Are you sure you want to delete this item?")){for(var e=[],o=[],r=this.profile.id,n=this.profile.name,i=0;i<this.selected.length;i++){var c=this.faqscategories.indexOf(this.selected[i]);e.push(this.faqscategories[c].id),o.push(this.faqscategories[c].value),this.faqscategories.splice(c,1)}if(e.length){var d=e.join(","),l=o.join(",");this.$axios.post("/delete-faqcategories-selectmultiple",{ids:d,category:l,name:n,profile_id:r}).then((function(e){t.$toast.success("Delete is successful")})).catch((function(t){})).finally((function(){}))}}},fireSort:function(data,t,e,o,r){var n=this,c=this.profile.id,d=this.profile.name;this.$axios.post("/sort-faqcategories",{value:data,name:d,profile_id:c,old_index:e,new_index:t,data_id:o,category_name:r}).then((function(t){n.$toast.success("Sorting is updated")})).catch((function(t){})).finally((function(){}))},fireDelete:function(t,e,o){var r=this;if(confirm("Are you sure you want to delete this row?")){var n=this.profile.id,c=this.profile.name;this.faqscategories.splice(t,1);var d=new FormData;d.append("id",e),d.append("value",o),d.append("profile_id",n),d.append("name",c),this.$axios.post("/delete-faqcategories-item",d).then((function(t){r.$toast.success("Delete item is successful")})).catch((function(t){})).finally((function(){}))}}},mounted:function(){var table=document.querySelector(".v-datatable tbody"),t=this;l.a.create(table,{onEnd:function(e){var o=e.newIndex,n=e.oldIndex,c=t.faqscategories.splice(n,1)[0];t.faqscategories.splice(o,0,c);for(var data=[],d=0,l=Object.entries(t.faqscategories);d<l.length;d++){var f=Object(r.a)(l[d],2),v=(f[0],f[1]);data.push(v.id)}t.fireSort(data,o,n,c.id,c.value)}})},watch:{}},w=(o(775),o(777),o(779),o(9)),component=Object(w.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"cms-page"}},[o("div",{staticClass:"container no-padding"},[o("v-toolbar",{staticClass:"pt-4",attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[t._v("FAQ")]),t._v(" "),o("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),o("v-spacer"),t._v(" "),o("div",{staticClass:"container--flex container--flex-align-item-center"})],1),t._v(" "),o("div",{staticClass:"container no-padding",staticStyle:{"background-color":"white"}},[o("v-container",{staticClass:"grey lighten-5"},[o("v-card-actions",[o("v-btn",{attrs:{color:"red"},on:{click:t.deleteItem}},[o("label",{staticClass:"white-font"},[t._v("Delete All Selected")])]),t._v(" "),o("v-spacer"),t._v(" "),o("nuxt-link",{attrs:{color:"success",to:{name:"a-cms-faqcategoriescreate"}}},[o("v-btn",{attrs:{color:"success"}},[o("label",{staticClass:"white-font"},[t._v("Create")])])],1)],1)],1),t._v(" "),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"faq col-md-12"},[o("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.progressBar,expression:"progressBar"}],attrs:{slot:"progress",height:"1",color:"blue",indeterminate:""},slot:"progress"}),t._v(" "),o("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!t.progressBar,expression:"!progressBar"}],staticClass:"elevation-1",attrs:{headers:t.headers,items:t.faqscategories,"item-key":"id",loading:t.loading,"select-all":"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[o("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(o){t.$set(e,"selected",o)},expression:"props.selected"}})],1),t._v(" "),o("td",{staticClass:"handle",staticStyle:{"max-width":"28px"}},[t._v("::")]),t._v(" "),o("td",[t._v(t._s(e.item.value))]),t._v(" "),o("td",{staticClass:"text-sm-center text-center"},[o("nuxt-link",{attrs:{color:"#000",to:{path:"/a/cms/faqcategoriesedit",query:{edit:e.item.id}}}},[o("v-btn",{attrs:{color:"blue"}},[o("label",{staticClass:"white-font"},[t._v("Edit")])])],1)],1),t._v(" "),o("td",{staticClass:"text-sm-center text-center"},[o("v-btn",{attrs:{color:"red"},on:{click:function(o){return t.fireDelete(e.index,e.item.id,e.item.value)}}},[o("label",{staticClass:"white-font"},[t._v("Delete")])])],1),t._v(" "),o("td",{staticClass:"text-sm-center text-center"},[t._v("\n                  "+t._s(e.item.created_at)+"\n                ")])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)])])],1),t._v(" "),o("div",{staticClass:"controls m-lg-vertical"})],1)])}),[],!1,null,"4eb55d0e",null);e.default=component.exports},424:function(t,e,o){"use strict";o(14);var r=o(4);e.a={middleware:"authenticated",layout:"admin",asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.store,r=t.error,e.next=3,o.dispatch("session/fetchUserProfile");case 3:return e.next=5,o.getters["session/IS_ADMIN"];case 5:e.sent||r({statusCode:404,message:"Page not found"});case 7:case"end":return e.stop()}}),e)})))()}}},425:function(t,e,o){"use strict";e.a={methods:{formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM YYYY";return t?this.$moment(t).format(e):""},resetDateSelection:function(){this.dateFrom="",this.dateTo="",this.dateFromFormatted="",this.dateToFormatted=""}},watch:{dateTo:function(t){this.dateToFormatted=this.formatDate(this.dateTo)},dateFrom:function(t){this.dateFromFormatted=this.formatDate(this.dateFrom)}},computed:{hasDateSelected:function(){return this.dateFrom.length>0||this.dateTo.length>0}},data:function(){return{dateFrom:"",dateFromFormatted:"",dateTo:"",dateToFormatted:"",menuFrom:!1,menuTo:!1}}}},426:function(t,e){t.exports=function(data,t,e,o){var r=new Blob(void 0!==o?[o,data]:[data],{type:e||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var n=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),c=document.createElement("a");c.style.display="none",c.href=n,c.setAttribute("download",t),void 0===c.download&&c.setAttribute("target","_blank"),document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(n)}),200)}}},427:function(t,e,o){"use strict";o(13);var r=o(426);e.a={methods:{downloadExcel:function(){var t=this;this.isDownloading||(this.isDownloading=!0,this.$axios.get("".concat(this.currentDownloadCSVURL,"&download=1"),{responseType:"blob"}).then((function(t){r(t.data,"reports.xlsx")})).catch((function(e){t.$toast.error(e.response.data.message)})).finally((function(){t.isDownloading=!1})))}},data:function(){return{currentDownloadCSVURL:"",isDownloading:!1}}}},588:function(t,e,o){var content=o(776);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("ed80a020",content,!0,{sourceMap:!1})},589:function(t,e,o){var content=o(778);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("3e8f1332",content,!0,{sourceMap:!1})},590:function(t,e,o){var content=o(780);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("45fedb5f",content,!0,{sourceMap:!1})},775:function(t,e,o){"use strict";o(588)},776:function(t,e,o){(e=o(2)(!1)).push([t.i,".white-font[data-v-4eb55d0e]{color:#fff}",""]),t.exports=e},777:function(t,e,o){"use strict";o(589)},778:function(t,e,o){(e=o(2)(!1)).push([t.i,".handle[data-v-4eb55d0e]{cursor:move!important;cursor:-webkit-grabbing!important}",""]),t.exports=e},779:function(t,e,o){"use strict";o(590)},780:function(t,e,o){(e=o(2)(!1)).push([t.i,".page--table .page__table[data-v-4eb55d0e]{margin-top:20px}.page--table .page__grab-icon[data-v-4eb55d0e]{cursor:move}#user-transactions-page .container[data-v-4eb55d0e]{margin:0 auto;max-width:1366px;width:98vw;padding-top:0;padding-bottom:0}.print-only[data-v-4eb55d0e]{padding:25px 0}.print-only table[data-v-4eb55d0e]{page-break-inside:auto}.print-only tr[data-v-4eb55d0e]{page-break-inside:avoid;page-break-after:auto}.print-only .item-list[data-v-4eb55d0e]{margin:0 auto!important;max-width:1366px!important;width:96vw!important;position:relative;display:block}.print-only .print-header[data-v-4eb55d0e],.print-only .print-total-tokens[data-v-4eb55d0e]{display:block!important}.print-only .v-toolbar[data-v-4eb55d0e]{display:none}.print-only .white--text[data-v-4eb55d0e]{color:#fff!important;caret-color:#fff!important}.print-only .black[data-v-4eb55d0e]{background-color:#000!important;border-color:#000!important}.print-only .item-list[data-v-4eb55d0e],.print-only .order-number[data-v-4eb55d0e]{display:block}.print-only .order-number[data-v-4eb55d0e]{font-weight:700}.print-only .cart-items table[data-v-4eb55d0e]{border-collapse:collapse}.print-only .cart-items tr[data-v-4eb55d0e]{background-color:#fff}.print-only .cart-items td[data-v-4eb55d0e],.print-only .cart-items th[data-v-4eb55d0e]{border:10px solid #e0e0e0;border-width:10px 0}.print-only .computation[data-v-4eb55d0e]{display:none}.print-only .v-dialog--fullscreen>.v-card[data-v-4eb55d0e]{background-color:#e0e0e0;width:100%}.print-only .v-dialog--fullscreen .v-card__text[data-v-4eb55d0e]{padding-top:20px!important}.print-only .layout--admin #navbar[data-v-4eb55d0e],.print-only .layout--admin .application--wrap[data-v-4eb55d0e],.print-only .layout--admin>footer[data-v-4eb55d0e],.print-only .layout--admin>header[data-v-4eb55d0e]{display:none}",""]),t.exports=e}}]);